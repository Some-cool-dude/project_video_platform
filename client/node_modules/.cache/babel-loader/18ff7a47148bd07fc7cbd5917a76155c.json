{"ast":null,"code":"var _jsxFileName = \"/home/andrew/webprogbase2/client/src/Users.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport './css/users.css';\n\nclass Users extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      search: '',\n      length: 7,\n      pages: 0,\n      step: 2,\n      array: [],\n      defaultArray: [],\n      isActive: 1,\n      data: null\n    };\n    this.handleWithPrevNext = this.handleWithPrevNext.bind(this);\n    this.handleWithClick = this.handleWithClick.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  update(page, array) {\n    axios.get('/api/v1/users?page=' + page + \"&search=\" + this.state.search, {\n      headers: {\n        Authorization: `Bearer ${this.props.auth}`\n      }\n    }).then(res => {\n      this.setState({\n        isActive: page,\n        array: array,\n        data: res.data\n      });\n    }).catch(console.error);\n  }\n\n  goToPage(page) {\n    let array = [];\n\n    if (page - this.state.step <= 1) {\n      array = this.state.defaultArray.concat([\"next\", this.state.pages]);\n    } else if (page + this.state.step >= this.state.pages) {\n      array = [1, \"prev\"];\n      let pages = this.state.pages;\n\n      for (let i = this.state.length; i > 2; i--) {\n        array[i] = pages;\n        pages--;\n      }\n    } else {\n      array = [1, \"prev\", page - 1, page, page + 1, \"next\", this.state.pages];\n    }\n\n    this.update(page, array);\n  }\n\n  handleWithPrevNext(event) {\n    if (event.target.id === \"next\") {\n      this.goToPage(this.state.isActive + 2);\n    } else if (event.target.id === \"prev\") {\n      this.goToPage(this.state.isActive - 2);\n    } else {\n      this.goToPage(parseInt(event.target.id));\n    }\n  }\n\n  handleWithClick(event) {\n    this.update(parseInt(event.target.id), this.state.defaultArray.concat([\"next\", this.state.pages]));\n  }\n\n  handleChange(event) {\n    event.persist();\n    axios.get('/api/v1/users?search=' + event.target.value, {\n      headers: {\n        Authorization: `Bearer ${this.props.auth}`\n      }\n    }).then(res => {\n      this.setState({\n        isActive: 1,\n        pages: res.data.pages,\n        array: this.state.defaultArray.concat([\"next\", res.data.pages]),\n        data: res.data,\n        search: event.target.value\n      });\n    });\n  }\n\n  componentDidMount() {\n    axios.get('/api/v1/users', {\n      headers: {\n        Authorization: `Bearer ${this.props.auth}`\n      }\n    }).then(res => {\n      let array = [];\n      let count = 1;\n\n      for (let i = 0; i < this.state.length - 2; i++) {\n        array[i] = count;\n        count++;\n      }\n\n      this.setState({\n        pages: res.data.pages,\n        array: array.concat([\"next\", res.data.pages]),\n        defaultArray: array,\n        data: res.data\n      });\n    }).catch(console.error);\n  }\n\n  render() {\n    if (!this.state.data) return null;\n    const more = this.state.pages > this.state.length;\n    let array = [];\n\n    if (!more) {\n      for (let i = 0; i < this.state.pages; i++) {\n        array[i] = i + 1;\n      }\n    }\n\n    return React.createElement(\"div\", {\n      className: \"Users\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      id: \"search\",\n      placeholder: \"Search..\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \" Find \", this.state.data.search, \" results\"), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Users\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, !this.state.data.items.length ? React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"No such videos\") : React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Login\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"Fullname\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"Registered\")), this.state.data.items.map(item => React.createElement(\"tr\", {\n      key: item._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"users/\" + item._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, item.login)), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"users/\" + item._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, item.fullname)), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, item.registeredAt)))))), React.createElement(\"div\", {\n      className: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"pagination\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, more ? React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \" \", this.state.array.map(page => React.createElement(\"button\", {\n      key: page.toString(),\n      id: page.toString(),\n      className: this.state.isActive === page ? 'active' : '',\n      onClick: this.handleWithPrevNext,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, page)), \" \") : React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \" \", array.map(page => React.createElement(\"button\", {\n      key: page.toString(),\n      id: page.toString(),\n      className: this.state.isActive === page ? 'active' : '',\n      onClick: this.handleWithClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, page)), \" \"))));\n  }\n\n}\n\nexport default Users;","map":{"version":3,"sources":["/home/andrew/webprogbase2/client/src/Users.js"],"names":["React","axios","Users","Component","constructor","props","state","search","length","pages","step","array","defaultArray","isActive","data","handleWithPrevNext","bind","handleWithClick","handleChange","update","page","get","headers","Authorization","auth","then","res","setState","catch","console","error","goToPage","concat","i","event","target","id","parseInt","persist","value","componentDidMount","count","render","more","items","map","item","_id","login","fullname","registeredAt","toString"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,iBAAP;;AAEA,MAAMC,KAAN,SAAoBF,KAAK,CAACG,SAA1B,CAAoC;AAClCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,MAAM,EAAC,EADE;AAETC,MAAAA,MAAM,EAAE,CAFC;AAGTC,MAAAA,KAAK,EAAE,CAHE;AAITC,MAAAA,IAAI,EAAE,CAJG;AAKTC,MAAAA,KAAK,EAAE,EALE;AAMTC,MAAAA,YAAY,EAAE,EANL;AAOTC,MAAAA,QAAQ,EAAE,CAPD;AAQTC,MAAAA,IAAI,EAAE;AARG,KAAb;AAUA,SAAKC,kBAAL,GAA0B,KAAKA,kBAAL,CAAwBC,IAAxB,CAA6B,IAA7B,CAA1B;AACA,SAAKC,eAAL,GAAuB,KAAKA,eAAL,CAAqBD,IAArB,CAA0B,IAA1B,CAAvB;AACA,SAAKE,YAAL,GAAoB,KAAKA,YAAL,CAAkBF,IAAlB,CAAuB,IAAvB,CAApB;AACD;;AAEDG,EAAAA,MAAM,CAACC,IAAD,EAAOT,KAAP,EAAc;AAClBV,IAAAA,KAAK,CAACoB,GAAN,CAAU,wBAAwBD,IAAxB,GAA+B,UAA/B,GAA4C,KAAKd,KAAL,CAAWC,MAAjE,EAAyE;AAACe,MAAAA,OAAO,EAAC;AAACC,QAAAA,aAAa,EAAG,UAAS,KAAKlB,KAAL,CAAWmB,IAAK;AAA1C;AAAT,KAAzE,EACCC,IADD,CACMC,GAAG,IAAI;AACT,WAAKC,QAAL,CAAc;AAACd,QAAAA,QAAQ,EAAEO,IAAX;AAAiBT,QAAAA,KAAK,EAAEA,KAAxB;AAA+BG,QAAAA,IAAI,EAAEY,GAAG,CAACZ;AAAzC,OAAd;AACH,KAHD,EAICc,KAJD,CAIOC,OAAO,CAACC,KAJf;AAKD;;AAEDC,EAAAA,QAAQ,CAACX,IAAD,EAAO;AACX,QAAIT,KAAK,GAAG,EAAZ;;AACA,QAAGS,IAAI,GAAG,KAAKd,KAAL,CAAWI,IAAlB,IAA0B,CAA7B,EAAgC;AAC5BC,MAAAA,KAAK,GAAG,KAAKL,KAAL,CAAWM,YAAX,CAAwBoB,MAAxB,CAA+B,CAAC,MAAD,EAAQ,KAAK1B,KAAL,CAAWG,KAAnB,CAA/B,CAAR;AACH,KAFD,MAGK,IAAGW,IAAI,GAAG,KAAKd,KAAL,CAAWI,IAAlB,IAA0B,KAAKJ,KAAL,CAAWG,KAAxC,EAA+C;AAChDE,MAAAA,KAAK,GAAG,CAAC,CAAD,EAAI,MAAJ,CAAR;AACA,UAAIF,KAAK,GAAG,KAAKH,KAAL,CAAWG,KAAvB;;AACA,WAAI,IAAIwB,CAAC,GAAG,KAAK3B,KAAL,CAAWE,MAAvB,EAAgCyB,CAAC,GAAG,CAApC,EAAuCA,CAAC,EAAxC,EAA4C;AAC1CtB,QAAAA,KAAK,CAACsB,CAAD,CAAL,GAAWxB,KAAX;AACAA,QAAAA,KAAK;AACN;AACJ,KAPI,MAQA;AACDE,MAAAA,KAAK,GAAG,CAAC,CAAD,EAAG,MAAH,EAAUS,IAAI,GAAC,CAAf,EAAiBA,IAAjB,EAAsBA,IAAI,GAAC,CAA3B,EAA6B,MAA7B,EAAqC,KAAKd,KAAL,CAAWG,KAAhD,CAAR;AACH;;AACD,SAAKU,MAAL,CAAYC,IAAZ,EAAkBT,KAAlB;AACH;;AAEDI,EAAAA,kBAAkB,CAACmB,KAAD,EAAQ;AACxB,QAAGA,KAAK,CAACC,MAAN,CAAaC,EAAb,KAAoB,MAAvB,EAA+B;AAC3B,WAAKL,QAAL,CAAc,KAAKzB,KAAL,CAAWO,QAAX,GAAsB,CAApC;AACH,KAFD,MAGK,IAAGqB,KAAK,CAACC,MAAN,CAAaC,EAAb,KAAoB,MAAvB,EAA+B;AAChC,WAAKL,QAAL,CAAc,KAAKzB,KAAL,CAAWO,QAAX,GAAsB,CAApC;AACH,KAFI,MAGA;AACD,WAAKkB,QAAL,CAAcM,QAAQ,CAACH,KAAK,CAACC,MAAN,CAAaC,EAAd,CAAtB;AACH;AACF;;AAEDnB,EAAAA,eAAe,CAACiB,KAAD,EAAQ;AACnB,SAAKf,MAAL,CAAYkB,QAAQ,CAACH,KAAK,CAACC,MAAN,CAAaC,EAAd,CAApB,EAAuC,KAAK9B,KAAL,CAAWM,YAAX,CAAwBoB,MAAxB,CAA+B,CAAC,MAAD,EAAS,KAAK1B,KAAL,CAAWG,KAApB,CAA/B,CAAvC;AACH;;AAEDS,EAAAA,YAAY,CAACgB,KAAD,EAAQ;AAClBA,IAAAA,KAAK,CAACI,OAAN;AACArC,IAAAA,KAAK,CAACoB,GAAN,CAAU,0BAA0Ba,KAAK,CAACC,MAAN,CAAaI,KAAjD,EAAwD;AAACjB,MAAAA,OAAO,EAAC;AAACC,QAAAA,aAAa,EAAG,UAAS,KAAKlB,KAAL,CAAWmB,IAAK;AAA1C;AAAT,KAAxD,EACCC,IADD,CACMC,GAAG,IAAI;AACT,WAAKC,QAAL,CAAc;AAACd,QAAAA,QAAQ,EAAE,CAAX;AAAcJ,QAAAA,KAAK,EAAEiB,GAAG,CAACZ,IAAJ,CAASL,KAA9B;AAAqCE,QAAAA,KAAK,EAAE,KAAKL,KAAL,CAAWM,YAAX,CAAwBoB,MAAxB,CAA+B,CAAC,MAAD,EAASN,GAAG,CAACZ,IAAJ,CAASL,KAAlB,CAA/B,CAA5C;AAAsGK,QAAAA,IAAI,EAAEY,GAAG,CAACZ,IAAhH;AAAsHP,QAAAA,MAAM,EAAE2B,KAAK,CAACC,MAAN,CAAaI;AAA3I,OAAd;AACH,KAHD;AAID;;AAEDC,EAAAA,iBAAiB,GAAG;AAClBvC,IAAAA,KAAK,CAACoB,GAAN,CAAU,eAAV,EAA2B;AAACC,MAAAA,OAAO,EAAC;AAACC,QAAAA,aAAa,EAAG,UAAS,KAAKlB,KAAL,CAAWmB,IAAK;AAA1C;AAAT,KAA3B,EACCC,IADD,CACMC,GAAG,IAAI;AACX,UAAIf,KAAK,GAAG,EAAZ;AACA,UAAI8B,KAAK,GAAG,CAAZ;;AACE,WAAI,IAAIR,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG,KAAK3B,KAAL,CAAWE,MAAX,GAAoB,CAAvC,EAA0CyB,CAAC,EAA3C,EACA;AACEtB,QAAAA,KAAK,CAACsB,CAAD,CAAL,GAAWQ,KAAX;AACAA,QAAAA,KAAK;AACN;;AACD,WAAKd,QAAL,CAAc;AAAClB,QAAAA,KAAK,EAAEiB,GAAG,CAACZ,IAAJ,CAASL,KAAjB;AAAwBE,QAAAA,KAAK,EAAEA,KAAK,CAACqB,MAAN,CAAa,CAAC,MAAD,EAASN,GAAG,CAACZ,IAAJ,CAASL,KAAlB,CAAb,CAA/B;AAAuEG,QAAAA,YAAY,EAAED,KAArF;AAA4FG,QAAAA,IAAI,EAAEY,GAAG,CAACZ;AAAtG,OAAd;AACH,KAVD,EAWCc,KAXD,CAWOC,OAAO,CAACC,KAXf;AAYD;;AAEDY,EAAAA,MAAM,GAAG;AACP,QAAG,CAAC,KAAKpC,KAAL,CAAWQ,IAAf,EAAqB,OAAO,IAAP;AACnB,UAAM6B,IAAI,GAAG,KAAKrC,KAAL,CAAWG,KAAX,GAAmB,KAAKH,KAAL,CAAWE,MAA3C;AACA,QAAIG,KAAK,GAAG,EAAZ;;AACA,QAAG,CAACgC,IAAJ,EAAU;AACR,WAAI,IAAIV,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG,KAAK3B,KAAL,CAAWG,KAA9B,EAAqCwB,CAAC,EAAtC,EAA0C;AACxCtB,QAAAA,KAAK,CAACsB,CAAD,CAAL,GAAWA,CAAC,GAAG,CAAf;AACD;AACF;;AACH,WACI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,EAAE,EAAC,QAAtB;AAA+B,MAAA,WAAW,EAAC,UAA3C;AAAsD,MAAA,QAAQ,EAAE,KAAKf,YAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAU,KAAKZ,KAAL,CAAWQ,IAAX,CAAgBP,MAA1B,aAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAHJ,CADJ,EAMQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,CAAC,KAAKD,KAAL,CAAWQ,IAAX,CAAgB8B,KAAhB,CAAsBpC,MAAvB,GACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADH,GAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHF,CADF,EAMC,KAAKF,KAAL,CAAWQ,IAAX,CAAgB8B,KAAhB,CAAsBC,GAAtB,CAA0BC,IAAI,IAC3B;AAAI,MAAA,GAAG,EAAEA,IAAI,CAACC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAI;AAAG,MAAA,IAAI,EAAE,WAAWD,IAAI,CAACC,GAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA+BD,IAAI,CAACE,KAApC,CAAJ,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAI;AAAG,MAAA,IAAI,EAAE,WAAWF,IAAI,CAACC,GAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA+BD,IAAI,CAACG,QAApC,CAAJ,CAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKH,IAAI,CAACI,YAAV,CAHJ,CADH,CAND,CADA,CAHJ,CANR,EA2BI;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGP,IAAI,GACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAQ,KAAKrC,KAAL,CAAWK,KAAX,CAAiBkC,GAAjB,CAAqBzB,IAAI,IAAI;AAAQ,MAAA,GAAG,EAAEA,IAAI,CAAC+B,QAAL,EAAb;AAA8B,MAAA,EAAE,EAAE/B,IAAI,CAAC+B,QAAL,EAAlC;AAAmD,MAAA,SAAS,EAAE,KAAK7C,KAAL,CAAWO,QAAX,KAAwBO,IAAxB,GAA+B,QAA/B,GAA0C,EAAxG;AAA4G,MAAA,OAAO,EAAE,KAAKL,kBAA1H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA+IK,IAA/I,CAA7B,CAAR,MADH,GAEG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAQT,KAAK,CAACkC,GAAN,CAAUzB,IAAI,IAAI;AAAQ,MAAA,GAAG,EAAEA,IAAI,CAAC+B,QAAL,EAAb;AAA8B,MAAA,EAAE,EAAE/B,IAAI,CAAC+B,QAAL,EAAlC;AAAmD,MAAA,SAAS,EAAE,KAAK7C,KAAL,CAAWO,QAAX,KAAwBO,IAAxB,GAA+B,QAA/B,GAA0C,EAAxG;AAA4G,MAAA,OAAO,EAAE,KAAKH,eAA1H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA4IG,IAA5I,CAAlB,CAAR,MAHV,CADF,CA3BJ,CADJ;AAuCD;;AApIiC;;AAwIpC,eAAelB,KAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport './css/users.css';\n\nclass Users extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n        search:'',\n        length: 7,\n        pages: 0,\n        step: 2,\n        array: [],\n        defaultArray: [],\n        isActive: 1,\n        data: null\n    }\n    this.handleWithPrevNext = this.handleWithPrevNext.bind(this);\n    this.handleWithClick = this.handleWithClick.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  update(page, array) {\n    axios.get('/api/v1/users?page=' + page + \"&search=\" + this.state.search, {headers:{Authorization: `Bearer ${this.props.auth}`}})\n    .then(res => {\n        this.setState({isActive: page, array: array, data: res.data});\n    })\n    .catch(console.error);\n  }\n\n  goToPage(page) {\n      let array = [];\n      if(page - this.state.step <= 1) {\n          array = this.state.defaultArray.concat([\"next\",this.state.pages]);\n      }\n      else if(page + this.state.step >= this.state.pages) {\n          array = [1, \"prev\"];\n          let pages = this.state.pages;\n          for(let i = this.state.length ; i > 2; i--) {\n            array[i] = pages;\n            pages--;\n          }\n      }\n      else {\n          array = [1,\"prev\",page-1,page,page+1,\"next\", this.state.pages];\n      }\n      this.update(page, array);\n  }\n\n  handleWithPrevNext(event) {\n    if(event.target.id === \"next\") {\n        this.goToPage(this.state.isActive + 2);\n    }\n    else if(event.target.id === \"prev\") {\n        this.goToPage(this.state.isActive - 2);\n    }\n    else {\n        this.goToPage(parseInt(event.target.id));\n    }\n  }\n\n  handleWithClick(event) {\n      this.update(parseInt(event.target.id), this.state.defaultArray.concat([\"next\", this.state.pages]));\n  }\n\n  handleChange(event) {\n    event.persist();\n    axios.get('/api/v1/users?search=' + event.target.value, {headers:{Authorization: `Bearer ${this.props.auth}`}})\n    .then(res => {\n        this.setState({isActive: 1, pages: res.data.pages, array: this.state.defaultArray.concat([\"next\", res.data.pages]), data: res.data, search: event.target.value});\n    })\n  }\n\n  componentDidMount() {\n    axios.get('/api/v1/users', {headers:{Authorization: `Bearer ${this.props.auth}`}})\n    .then(res => {\n      let array = [];\n      let count = 1;\n        for(let i = 0; i < this.state.length - 2; i++)\n        {\n          array[i] = count;\n          count++;\n        }\n        this.setState({pages: res.data.pages, array: array.concat([\"next\", res.data.pages]), defaultArray: array, data: res.data});\n    })\n    .catch(console.error);\n  }\n\n  render() {\n    if(!this.state.data) return null;\n      const more = this.state.pages > this.state.length;\n      let array = [];\n      if(!more) {\n        for(let i = 0; i < this.state.pages; i++) {\n          array[i] = i + 1;\n        }\n      }\n    return (\n        <div className=\"Users\">\n            <div className=\"content\">\n                <input type=\"text\" id=\"search\" placeholder=\"Search..\" onChange={this.handleChange}/>\n                <p> Find {this.state.data.search} results</p>\n                <h1>Users</h1>\n            </div>\n                <div>\n                  {!this.state.data.items.length \n                    ?(<p>No such videos</p>)\n                  :(<table>\n                    <tbody>\n                      <tr>\n                        <th>Login</th>\n                        <th>Fullname</th>\n                        <th>Registered</th>\n                      </tr>\n                    {this.state.data.items.map(item =>\n                        <tr key={item._id}>\n                            <td><a href={\"users/\" + item._id}>{item.login}</a></td>\n                            <td><a href={\"users/\" + item._id}>{item.fullname}</a></td>\n                            <td>{item.registeredAt}</td>\n                        </tr>\n                    )}\n                    </tbody>\n                    </table>)\n                  }      \n                </div>\n            <div className=\"center\">\n              <div className=\"pagination\">\n                {more \n                      ?(<span> {this.state.array.map(page => <button key={page.toString()} id={page.toString()} className={this.state.isActive === page ? 'active' : ''} onClick={this.handleWithPrevNext}>{page}</button>)} </span>)\n                      :(<span> {array.map(page => <button key={page.toString()} id={page.toString()} className={this.state.isActive === page ? 'active' : ''} onClick={this.handleWithClick}>{page}</button>)} </span>)\n                }\n              </div>\n            </div>\n        </div>\n    );\n\n  }\n\n}\n\nexport default Users;"]},"metadata":{},"sourceType":"module"}