{"ast":null,"code":"import _classCallCheck from\"/home/andrew/webprogbase2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/andrew/webprogbase2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/andrew/webprogbase2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/andrew/webprogbase2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/andrew/webprogbase2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/andrew/webprogbase2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import Home from'./Home';import About from'./About';import Videos from'./Videos';import Video from'./Video';import NewVideo from'./NewVideo';import NewChannel from'./NewChannel';import Channels from'./Channels';import Channel from'./Channel';import Users from'./Users';import User from'./User';import Auhorize from'./Authorize';import Header from\"./Header\";import Footer from\"./Footer\";import API from'./API';import Login from\"./Login\";import Register from\"./Register\";import PageNotFound from'./PageNotFound';import Forbidden from'./Forbidden';import{Route,BrowserRouter as Router,Switch}from\"react-router-dom\";import{EventEmitter}from'events';var Main=/*#__PURE__*/function(_React$Component){_inherits(Main,_React$Component);function Main(props){var _this;_classCallCheck(this,Main);_this=_possibleConstructorReturn(this,_getPrototypeOf(Main).call(this,props));_this.state={auth:localStorage.getItem('jwt'),id:null};_this.handler=_this.handler.bind(_assertThisInitialized(_this));_this.eventEmitter=new EventEmitter();return _this;}_createClass(Main,[{key:\"handler\",value:function handler(auth){this.setState({auth:auth});}},{key:\"componentDidMount\",value:function componentDidMount(){this.eventEmitter.addListener(\"auth\",this.handler);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.eventEmitter.removeListener(\"auth\",this.handler);}},{key:\"render\",value:function render(){var _this2=this;return React.createElement(Router,null,React.createElement(Header,{key:this.state.auth,eventEmitter:this.eventEmitter,auth:this.state.auth}),React.createElement(Switch,null,React.createElement(Route,{exact:true,path:\"/\",component:Home}),React.createElement(Route,{path:\"/about\",component:About}),React.createElement(Route,{path:\"/videos/new\",render:function render(props){return React.createElement(NewVideo,Object.assign({auth:_this2.state.auth},props));}}),React.createElement(Route,{path:\"/videos/:id\",render:function render(props){return React.createElement(Video,Object.assign({auth:_this2.state.auth},props));}}),React.createElement(Route,{path:\"/videos\",component:Videos}),React.createElement(Route,{path:\"/channels/new\",render:function render(props){return React.createElement(NewChannel,Object.assign({auth:_this2.state.auth},props));}}),React.createElement(Route,{path:\"/channels/:id\",render:function render(props){return React.createElement(Channel,Object.assign({auth:_this2.state.auth},props));}}),React.createElement(Route,{path:\"/channels\",component:Channels}),React.createElement(Route,{path:\"/profile\",render:function render(props){return React.createElement(User,Object.assign({auth:_this2.state.auth},props));}}),React.createElement(Route,{path:\"/users/:id\",render:function render(props){return React.createElement(User,Object.assign({auth:_this2.state.auth},props));}}),React.createElement(Route,{path:\"/users\",render:function render(props){return React.createElement(Users,Object.assign({auth:_this2.state.auth},props));}}),React.createElement(Route,{path:\"/login\",render:function render(props){return React.createElement(Login,Object.assign({eventEmitter:_this2.eventEmitter},props));}}),React.createElement(Route,{path:\"/register\",component:function component(props){return React.createElement(Register,Object.assign({eventEmitter:_this2.eventEmitter},props));}}),React.createElement(Route,{path:\"/developer\",component:API}),React.createElement(Route,{path:\"/401\",component:Auhorize}),React.createElement(Route,{path:\"403\",component:Forbidden}),React.createElement(Route,{path:\"*\",component:PageNotFound})),React.createElement(Footer,null));}}]);return Main;}(React.Component);export default Main;","map":{"version":3,"sources":["/home/andrew/webprogbase2/client/src/Main.js"],"names":["React","Home","About","Videos","Video","NewVideo","NewChannel","Channels","Channel","Users","User","Auhorize","Header","Footer","API","Login","Register","PageNotFound","Forbidden","Route","BrowserRouter","Router","Switch","EventEmitter","Main","props","state","auth","localStorage","getItem","id","handler","bind","eventEmitter","setState","addListener","removeListener","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Home from './Home';\nimport About from './About';\nimport Videos from './Videos';\nimport Video from './Video';\nimport NewVideo from './NewVideo';\nimport NewChannel from './NewChannel';\nimport Channels from './Channels';\nimport Channel from './Channel';\nimport Users from './Users';\nimport User from './User';\nimport Auhorize from './Authorize';\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport API from './API';\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport PageNotFound from './PageNotFound';\nimport Forbidden from './Forbidden';\nimport { Route, BrowserRouter as Router, Switch } from \"react-router-dom\";\nimport { EventEmitter } from 'events';\n\nclass Main extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            auth: localStorage.getItem('jwt'),\n            id: null\n        }\n        this.handler = this.handler.bind(this);\n        this.eventEmitter = new EventEmitter();\n    }\n\n    handler(auth) {\n        this.setState({auth: auth})\n    }\n\n    componentDidMount() {\n        this.eventEmitter.addListener(\"auth\", this.handler);\n    }\n\n    componentWillUnmount() {\n        this.eventEmitter.removeListener(\"auth\", this.handler);\n    }\n\n  render() {\n    return (\n        <Router>\n            <Header key={this.state.auth} eventEmitter={this.eventEmitter} auth={this.state.auth}/>\n          <Switch>\n            <Route exact path=\"/\" component={Home} />\n            <Route path=\"/about\" component={About} />\n            <Route path=\"/videos/new\" render={(props) => <NewVideo auth={this.state.auth} {...props} />} />\n            <Route path=\"/videos/:id\" render={(props) => <Video auth={this.state.auth} {...props} />} />\n            <Route path=\"/videos\" component={Videos} />\n            <Route path=\"/channels/new\" render={(props) => <NewChannel auth={this.state.auth} {...props} />} />\n            <Route path=\"/channels/:id\" render={(props) => <Channel auth={this.state.auth} {...props} />} />\n            <Route path=\"/channels\" component={Channels} />\n            <Route path=\"/profile\" render={(props) => <User auth={this.state.auth} {...props} />} />\n            <Route path=\"/users/:id\" render={(props) => <User auth={this.state.auth} {...props} />} />\n            <Route path=\"/users\" render={(props) => <Users auth={this.state.auth} {...props} />} />\n            <Route path=\"/login\" render={(props) => <Login eventEmitter={this.eventEmitter} {...props} />} />\n            <Route path=\"/register\" component={(props) => <Register eventEmitter={this.eventEmitter}{...props} />} />\n            <Route path=\"/developer\" component={API} />\n            <Route path=\"/401\" component={Auhorize} />\n            <Route path='403' component={Forbidden} />\n            <Route path=\"*\" component={PageNotFound} />\n          </Switch>\n             <Footer />\n      </Router>\n    );\n  }\n}\n\nexport default Main"]},"metadata":{},"sourceType":"module"}