{"ast":null,"code":"var _jsxFileName = \"/home/andrew/webprogbase2/client/src/Header.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { NavLink, withRouter } from \"react-router-dom\";\n\nclass Header extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: null,\n      auth: this.props.auth\n    };\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.state.auth && !this.state.data) {\n      const jwt = localStorage.getItem('jwt');\n      axios.get(\"/api/v1/me\", {\n        headers: {\n          Authorization: `Bearer ${jwt}`\n        }\n      }).then(res => {\n        this.setState({\n          data: res.data\n        });\n      }).catch(console.error);\n    }\n  }\n\n  handleClick(event) {\n    event.preventDefault();\n    localStorage.removeItem('jwt');\n    this.setState({\n      data: null\n    });\n    this.props.eventEmitter.emit(\"auth\", null);\n    this.props.history.push('/');\n  }\n\n  render() {\n    return React.createElement(\"nav\", {\n      id: \"nav\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      activeClassName: \"active\",\n      to: \"/about\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, \"About\"), React.createElement(NavLink, {\n      activeClassName: \"active\",\n      to: \"/videos\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, \"Videos\"), React.createElement(NavLink, {\n      activeClassName: \"active\",\n      to: \"/channels\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, \"Channels\"), React.createElement(NavLink, {\n      exact: true,\n      activeClassName: \"active\",\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, \"Home\"), this.state.auth && this.state.data ? React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, this.state.data.role && React.createElement(NavLink, {\n      activeClassName: \"active\",\n      to: \"/users\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \"Users\"), React.createElement(NavLink, {\n      activeClassName: \"active\",\n      onClick: this.handleClick,\n      to: \"/logout\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"Logout\"), React.createElement(\"div\", {\n      className: \"user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.state.data.avaUrl,\n      alt: \"User\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }), React.createElement(NavLink, {\n      activeClassName: \"active\",\n      to: \"/profile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, this.state.data.login))) : React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      activeClassName: \"active\",\n      to: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"Login\"), React.createElement(NavLink, {\n      activeClassName: \"active\",\n      to: \"/register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"Signin\")), React.createElement(\"img\", {\n      src: \"https://res.cloudinary.com/hlrzutjus/image/upload/v1576349810/logo_anwozf.png\",\n      alt: \"Logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"AndrewsBestsite\"));\n  }\n\n}\n\nexport default withRouter(Header);","map":{"version":3,"sources":["/home/andrew/webprogbase2/client/src/Header.js"],"names":["React","axios","NavLink","withRouter","Header","Component","constructor","props","state","data","auth","handleClick","bind","componentDidMount","jwt","localStorage","getItem","get","headers","Authorization","then","res","setState","catch","console","error","event","preventDefault","removeItem","eventEmitter","emit","history","push","render","role","avaUrl","login"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport { NavLink, withRouter } from \"react-router-dom\";\n\nclass Header extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: null,\n      auth: this.props.auth\n    }\n    this.handleClick = this.handleClick.bind(this);\n  }\n\ncomponentDidMount() {\n  if (this.state.auth && !this.state.data) {\n    const jwt = localStorage.getItem('jwt');\n    axios.get(\"/api/v1/me\", {headers: {Authorization: `Bearer ${jwt}`}})\n    .then(res => {\n      this.setState({data: res.data});\n    })\n    .catch(console.error);\n  }\n}\n\nhandleClick(event) {\n  event.preventDefault();\n  localStorage.removeItem('jwt');\n  this.setState({data: null});\n  this.props.eventEmitter.emit(\"auth\", null);\n  this.props.history.push('/');\n}\n\n  render() {\n    return (\n      <nav id=\"nav\">\n        <NavLink activeClassName=\"active\" to=\"/about\">About\n        </NavLink>\n        <NavLink activeClassName=\"active\" to=\"/videos\">Videos\n        </NavLink>\n        <NavLink activeClassName=\"active\" to=\"/channels\">Channels\n        </NavLink>\n        <NavLink exact activeClassName=\"active\" to=\"/\">Home\n        </NavLink>\n        {this.state.auth && this.state.data  ? (\n           <span>\n             {this.state.data.role &&\n                <NavLink activeClassName=\"active\" to=\"/users\">Users\n                </NavLink>\n             }\n           <NavLink activeClassName=\"active\" onClick={this.handleClick} to=\"/logout\">Logout\n              </NavLink>\n              <div className=\"user\">\n                <img src={this.state.data.avaUrl} alt=\"User\" />\n                <NavLink activeClassName=\"active\" to=\"/profile\">{this.state.data.login}\n                </NavLink>\n              </div>\n         </span>\n        ) : (\n          <span>\n            <NavLink activeClassName=\"active\" to=\"/login\">Login\n              </NavLink>\n              <NavLink activeClassName=\"active\" to=\"/register\">Signin\n              </NavLink>\n          </span>\n        )}\n        <img src=\"https://res.cloudinary.com/hlrzutjus/image/upload/v1576349810/logo_anwozf.png\" alt=\"Logo\"></img>\n        <i>AndrewsBestsite</i>\n      </nav>\n    );\n  }\n}\nexport default withRouter(Header);"]},"metadata":{},"sourceType":"module"}