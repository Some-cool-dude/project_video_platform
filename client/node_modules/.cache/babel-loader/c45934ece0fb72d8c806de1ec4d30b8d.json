{"ast":null,"code":"import _classCallCheck from\"/home/andrew/webprogbase2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/andrew/webprogbase2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/andrew/webprogbase2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/andrew/webprogbase2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/andrew/webprogbase2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/andrew/webprogbase2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import axios from'axios';import'./css/register.css';var Register=/*#__PURE__*/function(_React$Component){_inherits(Register,_React$Component);function Register(props){var _this;_classCallCheck(this,Register);_this=_possibleConstructorReturn(this,_getPrototypeOf(Register).call(this,props));_this.state={error:false,message:'',validate:false,letter:\"invalid\",length:\"invalid\",capital:\"invalid\",number:\"invalid\",display:false};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.handleFocus=_this.handleFocus.bind(_assertThisInitialized(_this));_this.handleBlur=_this.handleBlur.bind(_assertThisInitialized(_this));_this.handleKeyUp=_this.handleKeyUp.bind(_assertThisInitialized(_this));_this.username=React.createRef();_this.password=React.createRef();_this.repeat=React.createRef();_this.fullname=React.createRef();_this.lowerCaseLetters=/[a-z]/g;_this.upperCaseLetters=/[A-Z]/g;_this.numbers=/[0-9]/g;return _this;}_createClass(Register,[{key:\"handleSubmit\",value:function handleSubmit(event){var _this2=this;event.preventDefault();var length=this.username.current.value.length+this.password.current.value.length+this.repeat.current.value.length+this.fullname.current.value.length;if(this.username.current.value===''){this.setState({error:true,message:\"please fill username\"});event.target.reset();}else if(this.password.current.value===''){this.setState({error:true,message:\"please fill password\"});event.target.reset();}else if(this.repeat.current.value===''){this.setState({error:true,message:\"please fill repeat password\"});event.target.reset();}else if(this.fullname.current.value===''){this.setState({error:true,message:\"please fill fullname\"});event.target.reset();}else if(length>200){this.setState({error:true,message:\"too long\"});event.target.reset();}else if(this.state.letter===\"invalid\"||this.state.lenght===\"invalid\"||this.state.capital===\"invalid\"||this.state.number===\"invalid\"){this.setState({error:true,message:\"please obey the rules\"});event.target.reset();}else{event.persist();axios.post('/api/v1/register',{username:this.username.current.value,password:this.password.current.value,repeat:this.repeat.current.value,fullname:this.fullname.current.value}).then(function(res){localStorage.setItem('jwt',res.data.token);_this2.props.eventEmitter.emit(\"auth\",res.data.token);_this2.props.history.push('/');}).catch(function(err){if(err.response){if(err.response.data.message){_this2.setState({error:true,message:err.response.data.message});event.target.reset();}}console.error(err.message);});}}},{key:\"handleFocus\",value:function handleFocus(){this.setState({validate:true});}},{key:\"handleBlur\",value:function handleBlur(){this.setState({validate:false});}},{key:\"handleKeyUp\",value:function handleKeyUp(){if(this.password.current.value.match(this.lowerCaseLetters)){this.setState({letter:\"valid\"});}else{this.setState({letter:\"invalid\"});}if(this.password.current.value.match(this.upperCaseLetters)){this.setState({capital:\"valid\"});}else{this.setState({capital:\"invalid\"});}if(this.password.current.value.match(this.numbers)){this.setState({number:\"valid\"});}else{this.setState({number:\"invalid\"});}if(this.password.current.value.length>=8){this.setState({length:\"valid\"});}else{this.setState({length:\"invalid\"});}}},{key:\"componentDidMount\",value:function componentDidMount(){var nav=document.getElementById('nav');var footer=document.getElementById('footer');nav.style.display=\"none\";footer.style.display=\"none\";}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){var nav=document.getElementById('nav');var footer=document.getElementById('footer');nav.style.display=\"block\";footer.style.display=\"block\";}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"Register\"},React.createElement(\"form\",{action:\"/api/v1/register\",method:\"POST\",id:\"form\",onSubmit:this.handleSubmit},React.createElement(\"div\",{className:\"container\"},React.createElement(\"h1\",null,\"Register\"),React.createElement(\"p\",null,\"Please fill in this form to create an account.\"),React.createElement(\"hr\",null),this.state.error&&React.createElement(\"div\",{className:\"alert alert-danger\",id:\"alert\"},this.state.message),React.createElement(\"label\",{htmlFor:\"fullname\"},React.createElement(\"b\",null,\"Fullname\")),React.createElement(\"input\",{type:\"text\",id:\"fullname\",placeholder:\"Enter fullname\",name:\"fullname\",maxLength:\"50\",ref:this.fullname,required:true}),React.createElement(\"label\",{htmlFor:\"username\"},React.createElement(\"b\",null,\"Username\")),React.createElement(\"input\",{type:\"text\",placeholder:\"Enter username\",name:\"username\",maxLength:\"50\",ref:this.username,required:true}),React.createElement(\"label\",{htmlFor:\"psw\"},React.createElement(\"b\",null,\"Password\")),React.createElement(\"input\",{type:\"password\",placeholder:\"Enter Password\",name:\"password\",maxLength:\"50\",onKeyUp:this.handleKeyUp,onBlur:this.handleBlur,onFocus:this.handleFocus,ref:this.password,required:true}),this.state.validate&&React.createElement(\"div\",{className:\"container\",id:\"message\"},React.createElement(\"p\",{id:\"letter\",className:this.state.letter},\"A \",React.createElement(\"b\",null,\"lowercase\"),\" letter\"),React.createElement(\"p\",{id:\"capital\",className:this.state.capital},\"A \",React.createElement(\"b\",null,\"capital (uppercase)\"),\" letter\"),React.createElement(\"p\",{id:\"number\",className:this.state.number},\"A \",React.createElement(\"b\",null,\"number\")),React.createElement(\"p\",{id:\"length\",className:this.state.length},\"Minimum \",React.createElement(\"b\",null,\"8 characters\"))),React.createElement(\"label\",{htmlFor:\"psw-repeat\"},React.createElement(\"b\",null,\"Repeat Password\")),React.createElement(\"input\",{type:\"password\",placeholder:\"Repeat Password\",name:\"repeat\",maxLength:\"50\",ref:this.repeat,required:true}),React.createElement(\"hr\",null),React.createElement(\"button\",{type:\"submit\",className:\"registerbtn\"},\"Register\")),React.createElement(\"div\",{className:\"container signin\"},React.createElement(\"p\",null,\"Already have an account? \",React.createElement(\"a\",{href:\"/login\"},\"Log in\"),\".\"))));}}]);return Register;}(React.Component);export default Register;","map":{"version":3,"sources":["/home/andrew/webprogbase2/client/src/Register.js"],"names":["React","axios","Register","props","state","error","message","validate","letter","length","capital","number","display","handleSubmit","bind","handleFocus","handleBlur","handleKeyUp","username","createRef","password","repeat","fullname","lowerCaseLetters","upperCaseLetters","numbers","event","preventDefault","current","value","setState","target","reset","lenght","persist","post","then","res","localStorage","setItem","data","token","eventEmitter","emit","history","push","catch","err","response","console","match","nav","document","getElementById","footer","style","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport axios from 'axios'\nimport './css/register.css'\n\nclass Register extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: false,\n            message: '',\n            validate: false,\n            letter: \"invalid\",\n            length: \"invalid\",\n            capital: \"invalid\",\n            number: \"invalid\",\n            display: false\n        }\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleFocus = this.handleFocus.bind(this);\n        this.handleBlur = this.handleBlur.bind(this);\n        this.handleKeyUp = this.handleKeyUp.bind(this);\n        this.username = React.createRef();\n        this.password = React.createRef();\n        this.repeat = React.createRef();\n        this.fullname = React.createRef();\n        this.lowerCaseLetters = /[a-z]/g;\n        this.upperCaseLetters = /[A-Z]/g;\n        this.numbers = /[0-9]/g;\n    }\n\n    handleSubmit(event) {\n        event.preventDefault();\n        let length = this.username.current.value.length + this.password.current.value.length + this.repeat.current.value.length + this.fullname.current.value.length;\n        if(this.username.current.value === '') {\n            this.setState({error: true, message: \"please fill username\"});\n            event.target.reset();\n        }\n        else if(this.password.current.value === '') {\n            this.setState({error: true, message: \"please fill password\"});\n            event.target.reset();\n        }\n        else if(this.repeat.current.value === '') {\n            this.setState({error: true, message: \"please fill repeat password\"});\n            event.target.reset();\n        }\n        else if(this.fullname.current.value === '') {\n            this.setState({error: true, message: \"please fill fullname\"});\n            event.target.reset();\n        }\n        else if(length > 200) {\n          this.setState({error: true, message: \"too long\"});\n          event.target.reset();\n        }\n        else if(this.state.letter === \"invalid\" || this.state.lenght === \"invalid\" || this.state.capital === \"invalid\" || this.state.number === \"invalid\") {\n          this.setState({error: true, message: \"please obey the rules\"});\n            event.target.reset();\n        }\n        else {\n          event.persist();\n            axios.post('/api/v1/register', {username: this.username.current.value,\n                                            password: this.password.current.value,\n                                            repeat: this.repeat.current.value,\n                                            fullname: this.fullname.current.value})\n            .then(res => {\n              localStorage.setItem('jwt', res.data.token);\n              this.props.eventEmitter.emit(\"auth\", res.data.token);\n              this.props.history.push('/');\n            })\n            .catch(err => {\n              if(err.response) {\n                if(err.response.data.message) {\n                  this.setState({error: true, message: err.response.data.message});\n                  event.target.reset();\n                }\n              }\n              console.error(err.message);\n            });\n        }\n    }\n\n    handleFocus() {\n      this.setState({validate: true});\n    }\n\n    handleBlur() {\n      this.setState({validate: false});\n    }\n\n    handleKeyUp() {\n      if(this.password.current.value.match(this.lowerCaseLetters)) {\n        this.setState({letter: \"valid\"});\n      } else {\n        this.setState({letter: \"invalid\"});\n      }\n      if(this.password.current.value.match(this.upperCaseLetters)) {\n        this.setState({capital: \"valid\"});\n      } else {\n        this.setState({capital: \"invalid\"});\n      }\n      \n      if(this.password.current.value.match(this.numbers)) {\n        this.setState({number: \"valid\"});\n      } else {\n        this.setState({number: \"invalid\"});\n      }\n      \n      if(this.password.current.value.length >= 8) {\n        this.setState({length: \"valid\"});\n      } else {\n        this.setState({length: \"invalid\"});\n      }\n    }\n\n    componentDidMount() {\n      let nav = document.getElementById('nav');\n      let footer = document.getElementById('footer');\n      nav.style.display = \"none\";\n      footer.style.display = \"none\";\n    }\n\n    componentWillUnmount() {\n      let nav = document.getElementById('nav');\n      let footer = document.getElementById('footer');\n      nav.style.display = \"block\";\n      footer.style.display = \"block\";\n    }\n\n  render() {\n    return (\n      <div className=\"Register\">\n        <form action=\"/api/v1/register\" method=\"POST\" id=\"form\" onSubmit={this.handleSubmit}>\n        <div className=\"container\">\n        <h1>Register</h1>\n          <p>Please fill in this form to create an account.</p>\n          <hr />\n          {this.state.error && \n            <div className=\"alert alert-danger\" id=\"alert\">{this.state.message}</div>\n          }\n          <label htmlFor=\"fullname\"><b>Fullname</b></label>\n          <input type=\"text\" id=\"fullname\" placeholder=\"Enter fullname\" name=\"fullname\" maxLength=\"50\" ref={this.fullname} required />\n\n          <label htmlFor=\"username\"><b>Username</b></label>\n          <input type=\"text\" placeholder=\"Enter username\" name=\"username\" maxLength=\"50\" ref={this.username} required />\n      \n          <label htmlFor=\"psw\"><b>Password</b></label>\n          <input type=\"password\" placeholder=\"Enter Password\" name=\"password\" maxLength=\"50\" onKeyUp={this.handleKeyUp} onBlur={this.handleBlur} onFocus={this.handleFocus} ref={this.password} required />\n\n          {this.state.validate && \n            <div className=\"container\" id=\"message\">\n              <p id=\"letter\" className={this.state.letter}>A <b>lowercase</b> letter</p>\n              <p id=\"capital\" className={this.state.capital}>A <b>capital (uppercase)</b> letter</p>\n              <p id=\"number\" className={this.state.number}>A <b>number</b></p>\n              <p id=\"length\" className={this.state.length}>Minimum <b>8 characters</b></p>\n            </div>\n          }\n\n          <label htmlFor=\"psw-repeat\"><b>Repeat Password</b></label>\n          <input type=\"password\" placeholder=\"Repeat Password\" name=\"repeat\" maxLength=\"50\" ref={this.repeat} required />\n      \n          <hr />\n          <button type=\"submit\" className=\"registerbtn\">Register</button>\n        </div>\n        <div className=\"container signin\">\n          <p>Already have an account? <a href=\"/login\">Log in</a>.</p>\n        </div>\n      </form>\n      </div>\n    );\n  }\n}\n\nexport default Register"]},"metadata":{},"sourceType":"module"}