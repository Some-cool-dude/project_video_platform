(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{22:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},38:function(e,t,a){e.exports=a(76)},43:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(34),l=a(3),i=a(4),c=a(6),o=a(5),u=a(2),m=a(7),h=(a(43),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=document.getElementById("pupil");document.addEventListener("mousemove",(function(t){var a=100*t.clientX/window.innerWidth+"%",n=100*t.clientY/window.innerHeight+"%";e.style.left=a,e.style.top=n,e.style.transform="translate(-".concat(a,", -").concat(n,")")}))}},{key:"componentWillUnmount",value:function(){var e=document.getElementById("pupil");document.removeEventListener("mousemove",(function(t){var a=100*t.clientX/window.innerWidth+"%",n=100*t.clientY/window.innerHeight+"%";e.style.left=a,e.style.top=n,e.style.transform="translate(-".concat(a,", -").concat(n,")")}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"Home"},r.a.createElement("h1",null,r.a.createElement("i",null,"AndrewsBestsite")),r.a.createElement("div",{className:"eye"},r.a.createElement("img",{id:"pupil",src:"https://res.cloudinary.com/hlrzutjus/image/upload/v1576349822/pupil_qebphp.png",alt:"pupil"}),r.a.createElement("div",{className:"eyelid_up"}),r.a.createElement("div",{className:"eyelid_down"})),r.a.createElement("img",{id:"shadow",src:"images/shadow.png",alt:"shadow"}),r.a.createElement("div",{className:"content"},r.a.createElement("h2",null,"Description:"),r.a.createElement("p",null,"This site created to show my ",r.a.createElement("del",null,"limited")," profesional skills in web-developing. In the future this site will turn in ",r.a.createElement("b",null,"videoplatform.")),r.a.createElement("p",null,"It does not show useful information. Currently this site just test to understand how it works."),r.a.createElement("p",null,"Hover on eye.")))}}]),t}(r.a.Component)),p=(a(22),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"About"},r.a.createElement("img",{id:"ava",src:"images/ava.jpg",alt:"Avatar"}),r.a.createElement("h1",null,"About me"),r.a.createElement("center",null,r.a.createElement("p",null,"Hi! I'm Adrew. I created this site. It was hard,"),r.a.createElement("p",null,"but i did it. That is all what you need to know."),r.a.createElement("p",null,r.a.createElement("b",null,"Name:")," Andrew Shylo"),r.a.createElement("p",null,r.a.createElement("b",null,"Email:")," consequence098@gmail.com"),r.a.createElement("p",null,r.a.createElement("b",null,"Telegram:")," @SaintAtheist")))}}]),t}(r.a.Component)),d=a(1),E=a.n(d),v=(a(61),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).state={search:"",length:7,pages:0,step:2,array:[],defaultArray:[],isActive:1,data:null},a.handleWithPrevNext=a.handleWithPrevNext.bind(Object(u.a)(a)),a.handleWithClick=a.handleWithClick.bind(Object(u.a)(a)),a.handleChange=a.handleChange.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"update",value:function(e,t){var a=this;E.a.get("/api/v1/videos?page="+e+"&search="+this.state.search).then((function(n){a.setState({isActive:e,array:t,data:n.data})})).catch((function(e){if(e.response){if(401===e.response.status)return a.props.history.push("/401");if(403===e.response.status)return a.props.history.push("/403");if(404===e.response.status)return a.props.history.push("/404")}console.error(e)}))}},{key:"goToPage",value:function(e){var t=[];if(e-this.state.step<=1)t=this.state.defaultArray.concat(["next",this.state.pages]);else if(e+this.state.step>=this.state.pages){t=[1,"prev"];for(var a=this.state.pages,n=this.state.length;n>2;n--)t[n]=a,a--}else t=[1,"prev",e-1,e,e+1,"next",this.state.pages];this.update(e,t)}},{key:"handleWithPrevNext",value:function(e){"next"===e.target.id?this.goToPage(this.state.isActive+2):"prev"===e.target.id?this.goToPage(this.state.isActive-2):this.goToPage(parseInt(e.target.id))}},{key:"handleWithClick",value:function(e){this.update(parseInt(e.target.id),this.state.defaultArray.concat(["next",this.state.pages]))}},{key:"handleChange",value:function(e){var t=this;e.persist(),E.a.get("/api/v1/videos?search="+e.target.value).then((function(a){t.setState({isActive:1,pages:a.data.pages,array:t.state.defaultArray.concat(["next",a.data.pages]),data:a.data,search:e.target.value})})).catch((function(e){if(e.response){if(401===e.response.status)return t.props.history.push("/401");if(403===e.response.status)return t.props.history.push("/403");if(404===e.response.status)return t.props.history.push("/404")}console.error(e)}))}},{key:"componentDidMount",value:function(){var e=this;E.a.get("/api/v1/videos").then((function(t){for(var a=[],n=1,r=0;r<e.state.length-2;r++)a[r]=n,n++;e.setState({pages:t.data.pages,array:a.concat(["next",t.data.pages]),defaultArray:a,data:t.data})})).catch((function(t){if(t.response){if(401===t.response.status)return e.props.history.push("/401");if(403===t.response.status)return e.props.history.push("/403");if(404===t.response.status)return e.props.history.push("/404")}console.error(t)}))}},{key:"render",value:function(){var e=this;if(!this.state.data)return null;var t=this.state.pages>this.state.length,a=[];if(!t)for(var n=0;n<this.state.pages;n++)a[n]=n+1;return r.a.createElement("div",{className:"Videos"},r.a.createElement("div",{className:"content"},r.a.createElement("input",{type:"text",id:"search",placeholder:"Search..",onChange:this.handleChange}),r.a.createElement("a",{href:"videos/new",className:"btn"},r.a.createElement("i",{className:"fas fa-video"})," New"),r.a.createElement("p",null," Find ",this.state.data.search," results"),r.a.createElement("h1",null,"Videos"),r.a.createElement("div",null,this.state.data.items.length?r.a.createElement("ul",null,this.state.data.items.map((function(e){return r.a.createElement("li",{key:e._id},r.a.createElement("a",{href:"videos/"+e._id},e.title))}))):r.a.createElement("p",null,"No such videos"))),r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"pagination"},t?r.a.createElement("span",null," ",this.state.array.map((function(t){return r.a.createElement("button",{key:t.toString(),id:t.toString(),className:e.state.isActive===t?"active":"",onClick:e.handleWithPrevNext},t)}))," "):r.a.createElement("span",null," ",a.map((function(t){return r.a.createElement("button",{key:t.toString(),id:t.toString(),className:e.state.isActive===t?"active":"",onClick:e.handleWithClick},t)}))," "))))}}]),t}(r.a.Component)),f=(a(31),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).owner="",a.state={data:null,update:!1,delete:!1},a.handleUpdate=a.handleUpdate.bind(Object(u.a)(a)),a.handleDelete=a.handleDelete.bind(Object(u.a)(a)),a.title=r.a.createRef(),a.quality=r.a.createRef(),a.size=r.a.createRef(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handleDelete",value:function(e){var t=this;e.preventDefault(),E.a.delete("/api/v1/videos/"+this.state.data._id,{headers:{Authorization:"Bearer ".concat(this.props.auth)}}).then(this.props.history.push("/videos")).catch((function(e){if(e.response){if(401===e.response.status)return t.props.history.push("/401");if(403===e.response.status)return t.props.history.push("/403");if(404===e.response.status)return t.props.history.push("/404")}console.error(e)}))}},{key:"handleUpdate",value:function(e){var t=this;e.preventDefault(),this.setState({update:!1}),E.a.put("/api/v1/videos/"+this.state.data._id,{title:this.title.current.value,size:this.size.current.value,quality:this.quality.current.value},{headers:{Authorization:"Bearer ".concat(this.props.auth)}}).then((function(e){t.setState({data:e.data})})).catch((function(e){if(e.response){if(401===e.response.status)return t.props.history.push("/401");if(403===e.response.status)return t.props.history.push("/403");if(404===e.response.status)return t.props.history.push("/404")}console.error(e)}))}},{key:"componentDidMount",value:function(){var e=this;this.state.data||(this.props.auth&&E.a.get("/api/v1/me",{headers:{Authorization:"Bearer ".concat(this.props.auth)}}).then((function(t){e.owner=t.data._id})).catch((function(t){if(t.response){if(401===t.response.status)return e.props.history.push("/401");if(403===t.response.status)return e.props.history.push("/403");if(404===t.response.status)return e.props.history.push("/404")}console.error(t)})),E.a.get("/api/v1/videos/"+this.props.match.params.id).then((function(t){e.setState({data:t.data})})).catch((function(t){if(t.response){if(401===t.response.status)return e.props.history.push("/401");if(403===t.response.status)return e.props.history.push("/403");if(404===t.response.status)return e.props.history.push("/404")}console.error(t)})))}},{key:"render",value:function(){var e=this;if(!this.state.data)return null;var t=this.state.data.user_id===this.owner;return r.a.createElement("div",{className:"Video"},r.a.createElement("div",{className:"content"},r.a.createElement("video",{width:"853",height:"480",poster:this.state.data.poster,controls:!0},r.a.createElement("source",{src:this.state.data.urlPath,type:"video/"+this.state.data.format}),"Your browser does not support the video tag."),r.a.createElement("p",null,r.a.createElement("b",null,"Format:"),this.state.data.format),r.a.createElement("p",null,r.a.createElement("b",null,"Quality:"),this.state.data.quality),r.a.createElement("p",null,r.a.createElement("b",null,"Size:"),this.state.data.size),r.a.createElement("p",null,r.a.createElement("b",null,"Added:"),r.a.createElement("i",null,this.state.data.addedAt)),this.state.update&&r.a.createElement("div",{id:"update",className:"modal"},r.a.createElement("form",{className:"modal-content animate",onSubmit:this.handleUpdate,action:"",method:"post"},r.a.createElement("span",{onClick:function(){return e.setState({update:!1})},className:"close",title:"Close Modal"},"\xd7"),r.a.createElement("div",{className:"container"},r.a.createElement("label",{htmlFor:"title"},r.a.createElement("b",null,"Title")),r.a.createElement("input",{type:"text",placeholder:"Enter title",name:"title",defaultValue:this.state.data.title,ref:this.title,maxLength:"50"}),r.a.createElement("label",{htmlFor:"size"},r.a.createElement("b",null,"Size")),r.a.createElement("input",{type:"number",min:"0",defaultValue:this.state.data.size,ref:this.size,name:"size"}),r.a.createElement("label",{htmlFor:"quality"},r.a.createElement("b",null,"Quality")),r.a.createElement("input",{type:"number",min:"0",defaultValue:this.state.data.quality,ref:this.quality,name:"quality"}),r.a.createElement("button",{type:"submit",className:"submit"},"Update"),r.a.createElement("button",{type:"button",onClick:function(){return e.setState({update:!1})},className:"cancelbtn"},"Cancel")))),this.state.delete&&r.a.createElement("div",{id:"delete",className:"modal"},r.a.createElement("form",{className:"modal-content animate",onSubmit:this.handleDelete,action:"",method:"post"},r.a.createElement("span",{onClick:function(){return e.setState({delete:!1})},className:"close",title:"Close Modal"},"\xd7"),r.a.createElement("div",{className:"container"},r.a.createElement("img",{src:"../images/alert.png",alt:"alert"}),r.a.createElement("h2",null,"Are you sure you wanna delete this video?"),r.a.createElement("button",{type:"submit",className:"submit"},"Delete"),r.a.createElement("button",{type:"button",onClick:function(){return e.setState({delete:!1})},className:"cancelbtn"},"Cancel")))),t&&r.a.createElement("span",null,r.a.createElement("button",{onClick:function(){return e.setState({update:!0})},style:{width:"auto"}},r.a.createElement("i",{className:"fas fa-video"})," Update"),r.a.createElement("button",{onClick:function(){return e.setState({delete:!0})},style:{width:"auto"}},r.a.createElement("i",{className:"fas fa-trash"})," Delete"))))}}]),t}(r.a.Component)),g=(a(32),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).count=0,a.url="",a.format="",a.state={cloudName:"hlrzutjus",unsignedUploadPreset:"lzhs5xdj",progress:0,progressText:"",error:!1,message:""},a.handleSubmit=a.handleSubmit.bind(Object(u.a)(a)),a.video=r.a.createRef(),a.poster=r.a.createRef(),a.title=r.a.createRef(),a.quality=r.a.createRef(),a.size=r.a.createRef(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"uploadFile",value:function(e){var t=this;this.count++;var a="https://api.cloudinary.com/v1_1/".concat(this.state.cloudName,"/upload"),n=new FormData;n.append("file",e),n.append("upload_preset",this.state.unsignedUploadPreset),1===this.count?n.append("folder","videos"):n.append("folder","posters"),E.a.post(a,n,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){var a=Math.round(100*e.loaded/e.total);1===t.count?t.setState({progress:a,progressText:a+"% video"}):t.setState({progress:a,progressText:a+"% poster"})}}).then((function(e){if(1===t.count)return console.log(e.data),t.url=e.data.secure_url,t.format=e.data.format,t.uploadFile(t.poster.current.files[0]),!1;var a={title:t.title.current.value};return a.posterUrl=e.data.secure_url,a.format=t.format,a.size=t.size.current.value,a.quality=t.quality.current.value,a.videoUrl=t.url,t.props.location.query&&(a.ch=t.props.location.query.ch),E.a.post("/api/v1/videos",a,{headers:{Authorization:"Bearer ".concat(t.props.auth)}})})).then((function(e){e&&t.props.history.push("/videos/"+e.data._id)})).catch((function(e){if(e.response){if(401===e.response.status)return t.props.history.push("/401");if(403===e.response.status)return t.props.history.push("/403");if(404===e.response.status)return t.props.history.push("/404")}console.error(e)}))}},{key:"handleSubmit",value:function(e){e.preventDefault(),""!==this.title.current.value&&""!==this.size.current.value&&""!==this.quality.current.value&&this.video.current.files[0]&&this.poster.current.files[0]?this.title.current.value.length>50?this.setState({error:!0,message:"Too long title"}):this.video.current.files[0].type.startsWith("video/")&&this.poster.current.files[0].type.startsWith("image/")?this.uploadFile(this.video.current.files[0]):this.setState({error:!0,message:"Wrong file type"}):this.setState({error:!0,message:"Please fill all fields"})}},{key:"componentWillUnmount",value:function(){this.count=0,this.url="",this.format=""}},{key:"render",value:function(){this.props.auth||this.props.history.push("/401");var e=0!==this.state.progress;return r.a.createElement("div",{className:"New"},this.state.error&&r.a.createElement("div",{className:"alert alert-danger",id:"alert"},this.state.message),r.a.createElement("form",{action:"/videos/new",method:"POST",encType:"multipart/form-data",id:"form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"line"},r.a.createElement("div",{className:"col-25"},r.a.createElement("label",{htmlFor:"title"},"Title:")),r.a.createElement("div",{className:"col-75"},r.a.createElement("input",{type:"text",id:"title",name:"title",placeholder:"Title..",ref:this.title,required:!0}))),r.a.createElement("div",{className:"line"},r.a.createElement("div",{className:"col-25"},r.a.createElement("label",{htmlFor:"quality"},"Quality:")),r.a.createElement("div",{className:"col-75"},r.a.createElement("input",{type:"number",name:"quality",min:"0",ref:this.quality,id:"quality"}))),r.a.createElement("div",{className:"line"},r.a.createElement("div",{className:"col-25"},r.a.createElement("label",{htmlFor:"size"},"Size:")),r.a.createElement("div",{className:"col-75"},r.a.createElement("input",{type:"number",name:"size",min:"0",ref:this.size,id:"size"}))),e&&r.a.createElement("div",{className:"progress"},r.a.createElement("div",{id:"progress",className:"progress-bar progress-bar-success progress-bar-striped",role:"progressbar","aria-valuenow":this.state.progress,"aria-valuemin":"0","aria-valuemax":"100",style:{width:this.state.progress+"%"}},this.state.progressText)),r.a.createElement("div",{className:"line"},r.a.createElement("div",{className:"col-50"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"form-group files"},r.a.createElement("label",null,"Upload your video "),r.a.createElement("input",{type:"file",className:"form-control",name:"video",id:"video",accept:"video/*",ref:this.video,required:!0})))),r.a.createElement("div",{className:"col-50"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"form-group files"},r.a.createElement("label",null,"Upload your poster "),r.a.createElement("input",{type:"file",className:"form-control",name:"poster",id:"poster",accept:"image/*",ref:this.poster,required:!0}))))),r.a.createElement("div",{className:"line"},r.a.createElement("input",{type:"submit",value:"Submit",id:"submit"}))))}}]),t}(r.a.Component)),b=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).state={cloudName:"hlrzutjus",unsignedUploadPreset:"lzhs5xdj",progress:0,progressText:"",error:!1,message:""},a.handleSubmit=a.handleSubmit.bind(Object(u.a)(a)),a.img=r.a.createRef(),a.title=r.a.createRef(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"uploadFile",value:function(e){var t=this,a="https://api.cloudinary.com/v1_1/".concat(this.state.cloudName,"/upload"),n=new FormData;n.append("file",e),n.append("upload_preset",this.state.unsignedUploadPreset),n.append("folder","chimg"),E.a.post(a,n,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){var a=Math.round(100*e.loaded/e.total);t.setState({progress:a,progressText:a})}}).then((function(e){var a={title:t.title.current.value};return a.chimgUrl=e.data.secure_url,E.a.post("/api/v1/channels",a,{headers:{Authorization:"Bearer ".concat(t.props.auth)}})})).then((function(e){e&&t.props.history.push("/channels/"+e.data._id)})).catch((function(e){if(e.response){if(401===e.response.status)return t.props.history.push("/401");if(403===e.response.status)return t.props.history.push("/403");if(404===e.response.status)return t.props.history.push("/404")}console.error(e)}))}},{key:"handleSubmit",value:function(e){e.preventDefault(),""===this.title.current.value?this.setState({error:!0,message:"Please fill all fields"}):this.title.current.value.length>50?this.setState({error:!0,message:"Too long title"}):this.img.current.files[0].type.startsWith("image/")?this.uploadFile(this.img.current.files[0]):this.setState({error:!0,message:"Wrong file type"})}},{key:"render",value:function(){this.props.auth||this.props.history.push("/401");var e=0!==this.state.progress;return r.a.createElement("div",{className:"New"},this.state.error&&r.a.createElement("div",{className:"alert alert-danger",id:"alert"},this.state.message),r.a.createElement("form",{action:"/channels/new",method:"POST",encType:"multipart/form-data",id:"form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"line"},r.a.createElement("div",{className:"col-25"},r.a.createElement("label",{htmlFor:"title"},"Title:")),r.a.createElement("div",{className:"col-75"},r.a.createElement("input",{type:"text",id:"title",name:"title",placeholder:"Title..",ref:this.title,required:!0}))),e&&r.a.createElement("div",{className:"progress"},r.a.createElement("div",{id:"progress",className:"progress-bar progress-bar-success progress-bar-striped",role:"progressbar","aria-valuenow":this.state.progress,"aria-valuemin":"0","aria-valuemax":"100",style:{width:this.state.progress+"%"}},this.state.progressText)),r.a.createElement("div",{className:"line"},r.a.createElement("div",{className:"col-25"},r.a.createElement("label",{htmlFor:"img"},"Channel image:")),r.a.createElement("div",{className:"col-75"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"form-group files"},r.a.createElement("input",{type:"file",className:"form-control",name:"chimg",id:"img",ref:this.img,accept:"image/*",required:!0}))))),r.a.createElement("div",{className:"line"},r.a.createElement("input",{type:"submit",value:"Submit",id:"submit"}))))}}]),t}(r.a.Component),y=(a(62),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).state={search:"",length:7,pages:0,step:2,array:[],defaultArray:[],isActive:1,data:null},a.handleWithPrevNext=a.handleWithPrevNext.bind(Object(u.a)(a)),a.handleWithClick=a.handleWithClick.bind(Object(u.a)(a)),a.handleChange=a.handleChange.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"update",value:function(e,t){var a=this;E.a.get("/api/v1/channels?page="+e+"&search="+this.state.search).then((function(n){a.setState({isActive:e,array:t,data:n.data})})).catch((function(e){if(e.response){if(401===e.response.status)return a.props.history.push("/401");if(403===e.response.status)return a.props.history.push("/403");if(404===e.response.status)return a.props.history.push("/404")}console.error(e)}))}},{key:"goToPage",value:function(e){var t=[];if(e-this.state.step<=1)t=this.state.defaultArray.concat(["next",this.state.pages]);else if(e+this.state.step>=this.state.pages){t=[1,"prev"];for(var a=this.state.pages,n=this.state.length;n>2;n--)t[n]=a,a--}else t=[1,"prev",e-1,e,e+1,"next",this.state.pages];this.update(e,t)}},{key:"handleWithPrevNext",value:function(e){"next"===e.target.id?this.goToPage(this.state.isActive+2):"prev"===e.target.id?this.goToPage(this.state.isActive-2):this.goToPage(parseInt(e.target.id))}},{key:"handleWithClick",value:function(e){this.update(parseInt(e.target.id),this.state.defaultArray.concat(["next",this.state.pages]))}},{key:"handleChange",value:function(e){var t=this;e.persist(),E.a.get("/api/v1/channels?search="+e.target.value).then((function(a){t.setState({isActive:1,pages:a.data.pages,array:t.state.defaultArray.concat(["next",a.data.pages]),data:a.data,search:e.target.value})}))}},{key:"componentDidMount",value:function(){var e=this;E.a.get("/api/v1/channels").then((function(t){for(var a=[],n=1,r=0;r<e.state.length-2;r++)a[r]=n,n++;e.setState({pages:t.data.pages,array:a.concat(["next",t.data.pages]),defaultArray:a,data:t.data})})).catch((function(t){if(t.response){if(401===t.response.status)return e.props.history.push("/401");if(403===t.response.status)return e.props.history.push("/403");if(404===t.response.status)return e.props.history.push("/404")}console.error(t)}))}},{key:"render",value:function(){var e=this;if(!this.state.data)return null;var t=this.state.pages>this.state.length,a=[];if(!t)for(var n=0;n<this.state.pages;n++)a[n]=n+1;return r.a.createElement("div",{className:"Channels"},r.a.createElement("div",{className:"content"},r.a.createElement("input",{type:"text",id:"search",placeholder:"Search..",onChange:this.handleChange}),r.a.createElement("a",{href:"/channels/new",className:"btn"},r.a.createElement("i",{className:"fas fa-eye"})," New"),r.a.createElement("p",null," Find ",this.state.data.search," results"),r.a.createElement("h1",null,"Channels"),r.a.createElement("div",null,this.state.data.items.length?r.a.createElement("ul",null,this.state.data.items.map((function(e){return r.a.createElement("li",{key:e._id},r.a.createElement("a",{href:"channels/"+e._id},e.title))}))):r.a.createElement("p",null,"No such channels"))),r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"pagination"},t?r.a.createElement("span",null," ",this.state.array.map((function(t){return r.a.createElement("button",{key:t.toString(),id:t.toString(),className:e.state.isActive===t?"active":"",onClick:e.handleWithPrevNext},t)}))," "):r.a.createElement("span",null," ",a.map((function(t){return r.a.createElement("button",{key:t.toString(),id:t.toString(),className:e.state.isActive===t?"active":"",onClick:e.handleWithClick},t)}))," "))))}}]),t}(r.a.Component)),N=a(14),k=a.n(N),S=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).owner="",a.state={data:null,update:!1,delete:!1,subscribe:!1},a.handleUpdate=a.handleUpdate.bind(Object(u.a)(a)),a.handleDelete=a.handleDelete.bind(Object(u.a)(a)),a.Subscribe=a.Subscribe.bind(Object(u.a)(a)),a.title=r.a.createRef(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handleDelete",value:function(e){var t=this;e.preventDefault(),E.a.delete("/api/v1/channels/"+this.state.data._id,{headers:{Authorization:"Bearer ".concat(this.props.auth)}}).then(this.props.history.push("/channels")).catch((function(e){if(e.response){if(401===e.response.status)return t.props.history.push("/401");if(403===e.response.status)return t.props.history.push("/403");if(404===e.response.status)return t.props.history.push("/404")}console.error(e)}))}},{key:"handleUpdate",value:function(e){var t=this;e.preventDefault(),this.setState({update:!1}),E.a.put("/api/v1/channels/"+this.state.data._id,{title:this.title.current.value},{headers:{Authorization:"Bearer ".concat(this.props.auth)}}).then((function(e){t.setState({data:e.data})})).catch((function(e){if(e.response){if(401===e.response.status)return t.props.history.push("/401");if(403===e.response.status)return t.props.history.push("/403");if(404===e.response.status)return t.props.history.push("/404")}console.error(e)}))}},{key:"componentDidMount",value:function(){var e,t;return k.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(this.state.data){a.next=31;break}return e=!1,a.prev=2,a.next=5,k.a.awrap(E.a.get("/api/v1/me",{headers:{Authorization:"Bearer ".concat(this.props.auth)}}));case 5:return t=a.sent,this.owner=t.data._id,a.next=9,k.a.awrap(E.a.get("/api/v1/subscribes/"+t.data._id,{headers:{Authorization:"Bearer ".concat(this.props.auth)}}));case 9:return t=a.sent,e=!!t.data,a.next=13,k.a.awrap(E.a.get("/api/v1/channels/"+this.props.match.params.id));case 13:t=a.sent,this.setState({data:t.data,subscribe:e}),a.next=31;break;case 17:if(a.prev=17,a.t0=a.catch(2),!a.t0.response){a.next=30;break}if(401!==a.t0.response.status){a.next=24;break}return a.abrupt("return",this.props.history.push("/401"));case 24:if(403!==a.t0.response.status){a.next=28;break}return a.abrupt("return",this.props.history.push("/403"));case 28:if(404!==a.t0.response.status){a.next=30;break}return a.abrupt("return",this.props.history.push("/404"));case 30:console.error(a.t0);case 31:case"end":return a.stop()}}),null,this,[[2,17]])}},{key:"Subscribe",value:function(){var e=this;E.a.post("/api/v1/subscribes",{ch_id:this.state.data._id,user_id:this.owner,subscribers:this.state.data.subscribers},{headers:{Authorization:"Bearer ".concat(this.props.auth)}}).then((function(t){e.setState({data:t.data,subscribe:!0})})).catch((function(t){if(t.response){if(401===t.response.status)return e.props.history.push("/401");if(403===t.response.status)return e.props.history.push("/403");if(404===t.response.status)return e.props.history.push("/404")}console.error(t)}))}},{key:"render",value:function(){var e=this;if(!this.state.data)return null;var t=this.state.data.owner_id===this.owner;return r.a.createElement("div",{className:"Video"},r.a.createElement("div",{className:"content"},r.a.createElement("img",{id:"ch",src:this.state.data.chimgUrl,alt:"Channel"}),r.a.createElement("h1",null,this.state.data.title),r.a.createElement("p",null,r.a.createElement("b",null,"Created at:"),r.a.createElement("i",null,this.state.data.createdAt)),r.a.createElement("p",null,r.a.createElement("b",null,"Subscribers:"),this.state.data.subscribers),!this.state.subscribe&&r.a.createElement("button",{onClick:this.Subscribe},"Subscribe"),this.state.update&&r.a.createElement("div",{id:"update",className:"modal"},r.a.createElement("form",{className:"modal-content animate",onSubmit:this.handleUpdate,action:"",method:"post"},r.a.createElement("span",{onClick:function(){return e.setState({update:!1})},className:"close",title:"Close Modal"},"\xd7"),r.a.createElement("div",{className:"container"},r.a.createElement("label",{htmlFor:"title"},r.a.createElement("b",null,"Title")),r.a.createElement("input",{type:"text",placeholder:"Enter title",name:"title",defaultValue:this.state.data.title,ref:this.title,maxLength:"50"}),r.a.createElement("button",{type:"submit",className:"submit"},"Update"),r.a.createElement("button",{type:"button",onClick:function(){return e.setState({update:!1})},className:"cancelbtn"},"Cancel")))),this.state.delete&&r.a.createElement("div",{id:"delete",className:"modal"},r.a.createElement("form",{className:"modal-content animate",onSubmit:this.handleDelete,action:"",method:"post"},r.a.createElement("span",{onClick:function(){return e.setState({delete:!1})},className:"close",title:"Close Modal"},"\xd7"),r.a.createElement("div",{className:"container"},r.a.createElement("img",{src:"../images/alert.png",alt:"alert"}),r.a.createElement("h2",null,"Are you sure you wanna delete this channel?"),r.a.createElement("button",{type:"submit",className:"submit"},"Delete"),r.a.createElement("button",{type:"button",onClick:function(){return e.setState({delete:!1})},className:"cancelbtn"},"Cancel")))),t&&r.a.createElement("span",null,r.a.createElement("form",{action:"/videos/new",method:"get"},r.a.createElement("button",{onClick:function(){return e.props.history.push("/videos/new?ch="+e.state.data._id)},name:"ch",className:"btn"},r.a.createElement("i",{className:"fas fa-file-video"})," Add video")),r.a.createElement("button",{onClick:function(){return e.setState({update:!0})},style:{width:"auto"}},r.a.createElement("i",{className:"fas fa-video"})," Update"),r.a.createElement("button",{onClick:function(){return e.setState({delete:!0})},style:{width:"auto"}},r.a.createElement("i",{className:"fas fa-trash"})," Delete")),this.state.data.videos&&r.a.createElement("div",{className:"videos"},this.state.data.videos.map((function(e){return r.a.createElement("a",{key:e._id.toString(),href:"/videos/"+e._id,className:"column hover-shadow"},r.a.createElement("img",{src:e.poster,alt:"poster"}),r.a.createElement("p",null,e.title))})))))}}]),t}(r.a.Component),j=(a(64),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).state={search:"",length:7,pages:0,step:2,array:[],defaultArray:[],isActive:1,data:null},a.handleWithPrevNext=a.handleWithPrevNext.bind(Object(u.a)(a)),a.handleWithClick=a.handleWithClick.bind(Object(u.a)(a)),a.handleChange=a.handleChange.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"update",value:function(e,t){var a=this;E.a.get("/api/v1/users?page="+e+"&search="+this.state.search,{headers:{Authorization:"Bearer ".concat(this.props.auth)}}).then((function(n){a.setState({isActive:e,array:t,data:n.data})})).catch((function(e){if(e.response){if(401===e.response.status)return a.props.history.push("/401");if(403===e.response.status)return a.props.history.push("/403");if(404===e.response.status)return a.props.history.push("/404")}console.error(e)}))}},{key:"goToPage",value:function(e){var t=[];if(e-this.state.step<=1)t=this.state.defaultArray.concat(["next",this.state.pages]);else if(e+this.state.step>=this.state.pages){t=[1,"prev"];for(var a=this.state.pages,n=this.state.length;n>2;n--)t[n]=a,a--}else t=[1,"prev",e-1,e,e+1,"next",this.state.pages];this.update(e,t)}},{key:"handleWithPrevNext",value:function(e){"next"===e.target.id?this.goToPage(this.state.isActive+2):"prev"===e.target.id?this.goToPage(this.state.isActive-2):this.goToPage(parseInt(e.target.id))}},{key:"handleWithClick",value:function(e){this.update(parseInt(e.target.id),this.state.defaultArray.concat(["next",this.state.pages]))}},{key:"handleChange",value:function(e){var t=this;e.persist(),E.a.get("/api/v1/users?search="+e.target.value,{headers:{Authorization:"Bearer ".concat(this.props.auth)}}).then((function(a){t.setState({isActive:1,pages:a.data.pages,array:t.state.defaultArray.concat(["next",a.data.pages]),data:a.data,search:e.target.value})})).catch((function(e){if(e.response){if(401===e.response.status)return t.props.history.push("/401");if(403===e.response.status)return t.props.history.push("/403");if(404===e.response.status)return t.props.history.push("/404")}console.error(e)}))}},{key:"componentDidMount",value:function(){var e=this;E.a.get("/api/v1/users",{headers:{Authorization:"Bearer ".concat(this.props.auth)}}).then((function(t){for(var a=[],n=1,r=0;r<e.state.length-2;r++)a[r]=n,n++;e.setState({pages:t.data.pages,array:a.concat(["next",t.data.pages]),defaultArray:a,data:t.data})})).catch((function(t){if(t.response){if(401===t.response.status)return e.props.history.push("/401");if(403===t.response.status)return e.props.history.push("/403");if(404===t.response.status)return e.props.history.push("/404")}console.error(t)}))}},{key:"render",value:function(){var e=this;if(!this.state.data)return null;var t=this.state.pages>this.state.length,a=[];if(!t)for(var n=0;n<this.state.pages;n++)a[n]=n+1;return r.a.createElement("div",{className:"Users"},r.a.createElement("div",{className:"content"},r.a.createElement("input",{type:"text",id:"search",placeholder:"Search..",onChange:this.handleChange}),r.a.createElement("p",null," Find ",this.state.data.search," results"),r.a.createElement("h1",null,"Users")),r.a.createElement("div",null,this.state.data.items.length?r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Login"),r.a.createElement("th",null,"Fullname"),r.a.createElement("th",null,"Registered")),this.state.data.items.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,r.a.createElement("a",{href:"users/"+e._id},e.login)),r.a.createElement("td",null,r.a.createElement("a",{href:"users/"+e._id},e.fullname)),r.a.createElement("td",null,e.registeredAt))})))):r.a.createElement("p",null,"No such videos")),r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"pagination"},t?r.a.createElement("span",null," ",this.state.array.map((function(t){return r.a.createElement("button",{key:t.toString(),id:t.toString(),className:e.state.isActive===t?"active":"",onClick:e.handleWithPrevNext},t)}))," "):r.a.createElement("span",null," ",a.map((function(t){return r.a.createElement("button",{key:t.toString(),id:t.toString(),className:e.state.isActive===t?"active":"",onClick:e.handleWithClick},t)}))," "))))}}]),t}(r.a.Component)),w=(a(65),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).owner={},a.state={cloudName:"hlrzutjus",unsignedUploadPreset:"lzhs5xdj",data:null,update:!1,delete:!1},a.handleUpdate=a.handleUpdate.bind(Object(u.a)(a)),a.handleDelete=a.handleDelete.bind(Object(u.a)(a)),a.handleAdmin=a.handleAdmin.bind(Object(u.a)(a)),a.handleChange=a.handleChange.bind(Object(u.a)(a)),a.fullname=r.a.createRef(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handleDelete",value:function(e){e.preventDefault(),E.a.delete("/api/v1/users/"+this.state.data._id,{headers:{Authorization:"Bearer ".concat(this.props.auth)}}).then(this.props.history.push("/users")).catch(console.error)}},{key:"handleUpdate",value:function(e){var t=this;e.preventDefault(),this.setState({update:!1}),E.a.put("/api/v1/users/"+this.state.data._id,{fullname:this.fullname.current.value},{headers:{Authorization:"Bearer ".concat(this.props.auth)}}).then((function(e){t.setState({data:e.data})})).catch((function(e){if(e.response){if(401===e.response.status)return t.props.history.push("/401");if(403===e.response.status)return t.props.history.push("/403");if(404===e.response.status)return t.props.history.push("/404")}console.error(e)}))}},{key:"handleAdmin",value:function(e){var t=this;e.preventDefault(),E.a.put("/api/v1/users/"+this.state.data._id,{role:"1"},{headers:{Authorization:"Bearer ".concat(this.props.auth)}}).then((function(e){t.setState({data:e.data})})).catch((function(e){if(e.response){if(401===e.response.status)return t.props.history.push("/401");if(403===e.response.status)return t.props.history.push("/403");if(404===e.response.status)return t.props.history.push("/404")}console.error(e)}))}},{key:"handleChange",value:function(e){e.target.files[0]&&e.target.files[0].type.startsWith("image/")&&this.uploadFile(e.target.files[0])}},{key:"uploadFile",value:function(e){var t=this,a="https://api.cloudinary.com/v1_1/".concat(this.state.cloudName,"/upload"),n=new FormData;n.append("file",e),n.append("upload_preset",this.state.unsignedUploadPreset),n.append("folder","avatars"),E.a.post(a,n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return E.a.put("/api/v1/users/"+t.state.data._id,{avaUrl:e.data.secure_url},{headers:{Authorization:"Bearer ".concat(t.props.auth)}})})).then((function(e){return t.setState({data:e.data})})).catch((function(e){if(e.response){if(401===e.response.status)return t.props.history.push("/401");if(403===e.response.status)return t.props.history.push("/403");if(404===e.response.status)return t.props.history.push("/404")}console.error(e)}))}},{key:"componentDidMount",value:function(){var e,t,a;return k.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.state.data){n.next=30;break}if(n.prev=1,!this.props.auth){n.next=7;break}return n.next=5,k.a.awrap(E.a.get("/api/v1/me",{headers:{Authorization:"Bearer ".concat(this.props.auth)}}));case 5:e=n.sent,this.owner=e.data;case 7:return(t=this.props.match.params.id)||(t=this.owner._id),n.next=12,k.a.awrap(E.a.get("/api/v1/users/"+t,{headers:{Authorization:"Bearer ".concat(this.props.auth)}}));case 12:a=n.sent,this.setState({data:a.data}),n.next=30;break;case 16:if(n.prev=16,n.t0=n.catch(1),!n.t0.response){n.next=29;break}if(401!==n.t0.response.status){n.next=23;break}return n.abrupt("return",this.props.history.push("/401"));case 23:if(403!==n.t0.response.status){n.next=27;break}return n.abrupt("return",this.props.history.push("/403"));case 27:if(404!==n.t0.response.status){n.next=29;break}return n.abrupt("return",this.props.history.push("/404"));case 29:console.error(n.t0);case 30:case"end":return n.stop()}}),null,this,[[1,16]])}},{key:"render",value:function(){var e=this;if(!this.state.data)return null;var t=this.state.data._id===this.owner._id,a=1===this.owner.role&&1!==this.state.data.role;return r.a.createElement("div",{className:"User"},r.a.createElement("div",{className:"content"},t&&r.a.createElement("span",null,r.a.createElement("label",{htmlFor:"ava",className:"custom-file-upload"},r.a.createElement("i",{className:"fa fa-user-circle"})," Avatar"),r.a.createElement("input",{onChange:this.handleChange,name:"ava",type:"file",id:"ava",accept:"image/*"})),r.a.createElement("img",{id:"user",src:this.state.data.avaUrl,alt:"User avatar"}),r.a.createElement("div",{className:"right"},r.a.createElement("h2",null,this.state.data.fullname),r.a.createElement("h3",null,this.state.data.login),r.a.createElement("i",null,this.state.data.registeredAt),r.a.createElement("h2",null,"Bio:"),r.a.createElement("p",null,"Some text"),r.a.createElement("p",null,"Some long text"),r.a.createElement("p",null,"Some useless information about user"),r.a.createElement("p",null,"Text text text text text text text text text text text text text text text"),r.a.createElement("p",null,"Text text text text text text text text text text text text text text text"),r.a.createElement("p",null,"Text text text text text text text text text text text text text text text"),this.state.update&&r.a.createElement("div",{id:"update",className:"modal"},r.a.createElement("form",{className:"modal-content animate",onSubmit:this.handleUpdate,action:"",method:"post"},r.a.createElement("span",{onClick:function(){return e.setState({update:!1})},className:"close",title:"Close Modal"},"\xd7"),r.a.createElement("div",{className:"container"},r.a.createElement("label",{htmlFor:"fullname"},r.a.createElement("b",null,"Fullname")),r.a.createElement("input",{type:"text",placeholder:"Enter fullname",name:"fullname",defaultValue:this.state.data.fullname,ref:this.fullname,maxLength:"50"}),r.a.createElement("button",{type:"submit",className:"submit"},"Update"),r.a.createElement("button",{type:"button",onClick:function(){return e.setState({update:!1})},className:"cancelbtn"},"Cancel")))),this.state.delete&&r.a.createElement("div",{id:"delete",className:"modal"},r.a.createElement("form",{className:"modal-content animate",onSubmit:this.handleDelete,action:"",method:"post"},r.a.createElement("span",{onClick:function(){return e.setState({delete:!1})},className:"close",title:"Close Modal"},"\xd7"),r.a.createElement("div",{className:"container"},r.a.createElement("img",{src:"../images/alert.png",alt:"alert"}),r.a.createElement("h2",null,"Are you sure you wanna delete this user?"),r.a.createElement("button",{type:"submit",className:"submit"},"Delete"),r.a.createElement("button",{type:"button",onClick:function(){return e.setState({delete:!1})},className:"cancelbtn"},"Cancel")))),a&&r.a.createElement("span",null,r.a.createElement("form",{action:"",onSubmit:this.handleAdmin,method:"get"},r.a.createElement("button",{className:"btn",type:"submit",name:"role"},r.a.createElement("i",{class:"fas fa-user-secret"})," Admin")),r.a.createElement("button",{onClick:function(){return e.setState({delete:!0})},style:{width:"auto"}},r.a.createElement("i",{className:"fas fa-trash"})," Delete")),t&&r.a.createElement("span",null,r.a.createElement("button",{onClick:function(){return e.setState({update:!0})},style:{width:"auto"}},r.a.createElement("i",{className:"fas fa-video"})," Update"),r.a.createElement("button",{onClick:function(){return e.setState({delete:!0})},style:{width:"auto"}},r.a.createElement("i",{className:"fas fa-trash"})," Delete")))))}}]),t}(r.a.Component)),O=(a(66),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=document.getElementById("nav"),t=document.getElementById("footer");e.style.display="none",t.style.display="none"}},{key:"componentWillUnmount",value:function(){var e=document.getElementById("nav"),t=document.getElementById("footer");e.style.display="block",t.style.display="block"}},{key:"render",value:function(){return r.a.createElement("div",{className:"Authorize"},r.a.createElement("div",{className:"space"}),r.a.createElement("center",null,r.a.createElement("div",{className:"author"},r.a.createElement("img",{id:"author",src:"./images/authorize.png",alt:"authorize"})),r.a.createElement("p",null,r.a.createElement("a",{href:"/login"},"login please"))),r.a.createElement("div",{className:"space"}))}}]),t}(r.a.Component)),x=(a(67),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=document.getElementById("nav"),t=document.getElementById("footer");e.style.display="none",t.style.display="none"}},{key:"componentWillUnmount",value:function(){var e=document.getElementById("nav"),t=document.getElementById("footer");e.style.display="block",t.style.display="block"}},{key:"render",value:function(){return r.a.createElement("div",{className:"Forbidden"},r.a.createElement("div",{className:"space"}),r.a.createElement("center",null,r.a.createElement("div",null,"4"),r.a.createElement("div",{className:"ban"},r.a.createElement("img",{id:"ban",src:"./images/forb.jpeg",alt:"ban"})),r.a.createElement("div",null,"3"),r.a.createElement("p",null,r.a.createElement("a",{href:""},"You ara not admin"))),r.a.createElement("div",{className:"space"}))}}]),t}(r.a.Component)),C=a(11),A=a(15),U=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).state={data:null,auth:a.props.auth},a.handleClick=a.handleClick.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(this.state.auth&&!this.state.data){var t=localStorage.getItem("jwt");E.a.get("/api/v1/me",{headers:{Authorization:"Bearer ".concat(t)}}).then((function(t){e.setState({data:t.data})})).catch(console.error)}}},{key:"handleClick",value:function(e){e.preventDefault(),localStorage.removeItem("jwt"),this.setState({data:null}),this.props.eventEmitter.emit("auth",null),this.props.history.push("/")}},{key:"render",value:function(){return r.a.createElement("nav",{id:"nav"},r.a.createElement(C.b,{activeClassName:"active",to:"/about"},"About"),r.a.createElement(C.b,{activeClassName:"active",to:"/videos"},"Videos"),r.a.createElement(C.b,{activeClassName:"active",to:"/channels"},"Channels"),r.a.createElement(C.b,{exact:!0,activeClassName:"active",to:"/"},"Home"),this.state.auth&&this.state.data?r.a.createElement("span",null,this.state.data.role&&r.a.createElement(C.b,{activeClassName:"active",to:"/users"},"Users"),r.a.createElement(C.b,{activeClassName:"active",onClick:this.handleClick,to:"/logout"},"Logout"),r.a.createElement("div",{className:"user"},r.a.createElement("img",{src:this.state.data.avaUrl,alt:"User"}),r.a.createElement(C.b,{activeClassName:"active",to:"/profile"},this.state.data.login))):r.a.createElement("span",null,r.a.createElement(C.b,{activeClassName:"active",to:"/login"},"Login"),r.a.createElement(C.b,{activeClassName:"active",to:"/register"},"Signin")),r.a.createElement("img",{src:"https://res.cloudinary.com/hlrzutjus/image/upload/v1576349810/logo_anwozf.png",alt:"Logo"}),r.a.createElement("i",null,"AndrewsBestsite"))}}]),t}(r.a.Component),P=Object(A.f)(U);var T=function(){return r.a.createElement("div",{className:"footer",id:"footer"},r.a.createElement("i",null,"This site created by Andrew Shylo"))},z=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"API"},r.a.createElement("h1",null,"API"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"#users"},"User")),r.a.createElement("li",null,r.a.createElement("a",{href:"#videos"},"Videos")),r.a.createElement("li",null,r.a.createElement("a",{href:"#channels"},"Channels")),r.a.createElement("li",null,r.a.createElement("a",{href:"#account"},"Account")),r.a.createElement("li",null,r.a.createElement("a",{href:"#errors"},"Errors"))),r.a.createElement("h1",{id:"users"},"Users"),r.a.createElement("h2",{id:"warning"},"Warning: you must have admin role"),r.a.createElement("h2",null,"Get users"),r.a.createElement("p",null,"Method: GET"),r.a.createElement("p",null,"Url: /api/v1/users"),r.a.createElement("p",null,"Params:"),r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("td",null,"page (not required)"),r.a.createElement("td",null,"Get users by page")),r.a.createElement("tr",null,r.a.createElement("td",null,"search (not required)"),r.a.createElement("td",null,"Get users by title or part of title"))),r.a.createElement("p",null,"Return: users(with pagination)"),r.a.createElement("h2",null,"Add user"),r.a.createElement("p",null,"Method: POST"),r.a.createElement("p",null,"Url: /api/v1/users"),r.a.createElement("p",null,"Params:"),r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("td",null,"username"),r.a.createElement("td",null,"Unique string")),r.a.createElement("tr",null,r.a.createElement("td",null,"password"),r.a.createElement("td",null,"Very hard string")),r.a.createElement("tr",null,r.a.createElement("td",null,"fullname"),r.a.createElement("td",null,"Some string"))),r.a.createElement("p",null,"Return: created user"),r.a.createElement("h2",null,"Get one user by his id"),r.a.createElement("p",null,"Method: GET"),r.a.createElement("p",null,"Url: /api/v1/users/:id"),r.a.createElement("p",null,"Params: No params"),r.a.createElement("p",null,"Return: user"),r.a.createElement("h2",null,"Update one user by his id"),r.a.createElement("p",null,"Method: PUT"),r.a.createElement("p",null,"Url: /api/v1/users/:id"),r.a.createElement("p",null,"Params:"),r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("td",null,"role"),r.a.createElement("td",null,"0(User) or 1(Admin)")),r.a.createElement("tr",null,r.a.createElement("td",null,"fullname"),r.a.createElement("td",null,"Some string"))),r.a.createElement("p",null,"Return: No content"),r.a.createElement("h2",null,"Delete one user by his id"),r.a.createElement("p",null,"Method: DELETE"),r.a.createElement("p",null,"Url: /api/v1/users/:id"),r.a.createElement("p",null,"Params: No params"),r.a.createElement("p",null,"Return: No content"),r.a.createElement("h1",{id:"videos"},"Videos"),r.a.createElement("h2",null,"Get videos"),r.a.createElement("p",null,"Method: GET"),r.a.createElement("p",null,"Url: /api/v1/videos"),r.a.createElement("p",null,"Params:"),r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("td",null,"page (not required)"),r.a.createElement("td",null,"Get videos by page")),r.a.createElement("tr",null,r.a.createElement("td",null,"search (not required)"),r.a.createElement("td",null,"Get videos by title or part of title"))),r.a.createElement("p",null,"Return: videos(with pagination)"),r.a.createElement("h2",null,"Add video"),r.a.createElement("p",null,"Method: POST"),r.a.createElement("p",null,"Url: /api/v1/videos"),r.a.createElement("p",null,"Params:"),r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("td",null,"size"),r.a.createElement("td",null,"positive number")),r.a.createElement("tr",null,r.a.createElement("td",null,"quality"),r.a.createElement("td",null,"positive number")),r.a.createElement("tr",null,r.a.createElement("td",null,"title"),r.a.createElement("td",null,"Some string")),r.a.createElement("tr",null,r.a.createElement("td",null,"videoUrl"),r.a.createElement("td",null,"url to some video")),r.a.createElement("tr",null,r.a.createElement("td",null,"posterUrl"),r.a.createElement("td",null,"url to some poster")),r.a.createElement("tr",null,r.a.createElement("td",null,"ch (not required)"),r.a.createElement("td",null,"channel id which will have this video"))),r.a.createElement("p",null,"Return: created video"),r.a.createElement("h2",null,"Get one video by his id"),r.a.createElement("p",null,"Method: GET"),r.a.createElement("p",null,"Url: /api/v1/videos/:id"),r.a.createElement("p",null,"Params: No params"),r.a.createElement("h2",null,"Update one video by his id"),r.a.createElement("p",null,"Method: PUT"),r.a.createElement("p",null,"Url: /api/v1/videos/:id"),r.a.createElement("p",null,"Params:"),r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("td",null,"size"),r.a.createElement("td",null,"positive number")),r.a.createElement("tr",null,r.a.createElement("td",null,"quality"),r.a.createElement("td",null,"positive number")),r.a.createElement("tr",null,r.a.createElement("td",null,"title"),r.a.createElement("td",null,"Some string"))),r.a.createElement("p",null,"Return: No content"),r.a.createElement("h2",null,"Delete one video by his id"),r.a.createElement("p",null,"Method: DELETE"),r.a.createElement("p",null,"Url: /api/v1/videos/:id"),r.a.createElement("p",null,"Params: No params"),r.a.createElement("p",null,"Return: No content"),r.a.createElement("h1",{id:"channels"},"Channels"),r.a.createElement("h2",null,"Get channels"),r.a.createElement("p",null,"Method: GET"),r.a.createElement("p",null,"Url: /api/v1/channels"),r.a.createElement("p",null,"Params:"),r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("td",null,"page (not required)"),r.a.createElement("td",null,"Get channels by page")),r.a.createElement("tr",null,r.a.createElement("td",null,"search (not required)"),r.a.createElement("td",null,"Get channels by title or part of title"))),r.a.createElement("p",null,"Return: channels(with pagination)"),r.a.createElement("h2",null,"Add channel"),r.a.createElement("p",null,"Method: POST"),r.a.createElement("p",null,"Url: /api/v1/channel"),r.a.createElement("p",null,"Params:"),r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("td",null,"title"),r.a.createElement("td",null,"Some string")),r.a.createElement("tr",null,r.a.createElement("td",null,"chimgUrl"),r.a.createElement("td",null,"url to some image"))),r.a.createElement("p",null,"Return: created channel"),r.a.createElement("h2",null,"Get one channel by his id"),r.a.createElement("p",null,"Method: GET"),r.a.createElement("p",null,"Url: /api/v1/channels/:id"),r.a.createElement("p",null,"Params: No params"),r.a.createElement("h2",null,"Update one channel by his id"),r.a.createElement("p",null,"Method: PUT"),r.a.createElement("p",null,"Url: /api/v1/channels/:id"),r.a.createElement("p",null,"Params:"),r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("td",null,"title"),r.a.createElement("td",null,"Some string"))),r.a.createElement("p",null,"Return: No content"),r.a.createElement("h2",null,"Delete one channel by his id"),r.a.createElement("p",null,"Method: DELETE"),r.a.createElement("p",null,"Url: /api/v1/channels/:id"),r.a.createElement("p",null,"Params: No params"),r.a.createElement("p",null,"Return: No content"),r.a.createElement("h1",{id:"account"},"Account"),r.a.createElement("h2",null,"Get user data"),r.a.createElement("p",null,"Method: GET"),r.a.createElement("p",null,"Url: /developer/v1/"),r.a.createElement("p",null,"Params: No params"),r.a.createElement("p",null,"Return: user that login"),r.a.createElement("p",null,"Method of authorization: header must have field Authorization: Basic value(username:password in Base64)"),r.a.createElement("h1",{id:"errors"},"Errors"),r.a.createElement("p",null,"400(username is already exist, page less then 0 or greater then pages"),r.a.createElement("p",null,"401(You are not authorize)"),r.a.createElement("p",null,"403(You are not admin)"),r.a.createElement("p",null,"404(Not found)"),r.a.createElement("p",null,"500(DataBase error)"))}}]),t}(r.a.Component),B=(a(73),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).state={error:!1,message:""},a.handleSubmit=a.handleSubmit.bind(Object(u.a)(a)),a.username=r.a.createRef(),a.password=r.a.createRef(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),""===this.username.current.value?(this.setState({error:!0,message:"please fill username"}),e.target.reset()):""===this.password.current.value?(this.setState({error:!0,message:"please fill password"}),e.target.reset()):(e.persist(),E.a.post("/api/v1/login",{username:this.username.current.value,password:this.password.current.value}).then((function(e){localStorage.setItem("jwt",e.data.token),t.props.eventEmitter.emit("auth",e.data.token),t.props.history.push("/")})).catch((function(a){a.response&&a.response.data.message&&(t.setState({error:!0,message:a.response.data.message}),e.target.reset()),console.error(a.message)})))}},{key:"componentDidMount",value:function(){var e=document.getElementById("nav"),t=document.getElementById("footer");e.style.display="none",t.style.display="none"}},{key:"componentWillUnmount",value:function(){var e=document.getElementById("nav"),t=document.getElementById("footer");e.style.display="block",t.style.display="block"}},{key:"render",value:function(){return r.a.createElement("div",{className:"Login"},r.a.createElement("form",{action:"/api/v1/login",method:"POST",id:"form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Log in"),r.a.createElement("hr",null),this.state.error&&r.a.createElement("div",{className:"alert alert-danger",id:"alert"},this.state.message),r.a.createElement("label",{htmlFor:"username"},r.a.createElement("b",null,"Username")),r.a.createElement("input",{type:"text",placeholder:"Enter username",name:"username",maxLength:"50",ref:this.username,required:!0}),r.a.createElement("label",{htmlFor:"psw"},r.a.createElement("b",null,"Password")),r.a.createElement("input",{type:"password",placeholder:"Enter Password",name:"password",maxLength:"50",ref:this.password,required:!0}),r.a.createElement("hr",null),r.a.createElement("button",{type:"submit",className:"loginbtsn"},"Log in"))))}}]),t}(r.a.Component)),D=(a(74),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).state={error:!1,message:"",validate:!1,letter:"invalid",length:"invalid",capital:"invalid",number:"invalid",display:!1},a.handleSubmit=a.handleSubmit.bind(Object(u.a)(a)),a.handleFocus=a.handleFocus.bind(Object(u.a)(a)),a.handleBlur=a.handleBlur.bind(Object(u.a)(a)),a.handleKeyUp=a.handleKeyUp.bind(Object(u.a)(a)),a.username=r.a.createRef(),a.password=r.a.createRef(),a.repeat=r.a.createRef(),a.fullname=r.a.createRef(),a.lowerCaseLetters=/[a-z]/g,a.upperCaseLetters=/[A-Z]/g,a.numbers=/[0-9]/g,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.username.current.value.length+this.password.current.value.length+this.repeat.current.value.length+this.fullname.current.value.length;""===this.username.current.value?(this.setState({error:!0,message:"please fill username"}),e.target.reset()):""===this.password.current.value?(this.setState({error:!0,message:"please fill password"}),e.target.reset()):""===this.repeat.current.value?(this.setState({error:!0,message:"please fill repeat password"}),e.target.reset()):""===this.fullname.current.value?(this.setState({error:!0,message:"please fill fullname"}),e.target.reset()):a>200?(this.setState({error:!0,message:"too long"}),e.target.reset()):"invalid"===this.state.letter||"invalid"===this.state.lenght||"invalid"===this.state.capital||"invalid"===this.state.number?(this.setState({error:!0,message:"please obey the rules"}),e.target.reset()):(e.persist(),E.a.post("/api/v1/register",{username:this.username.current.value,password:this.password.current.value,repeat:this.repeat.current.value,fullname:this.fullname.current.value}).then((function(e){localStorage.setItem("jwt",e.data.token),t.props.eventEmitter.emit("auth",e.data.token),t.props.history.push("/")})).catch((function(a){a.response&&a.response.data.message&&(t.setState({error:!0,message:a.response.data.message}),e.target.reset()),console.error(a.message)})))}},{key:"handleFocus",value:function(){this.setState({validate:!0})}},{key:"handleBlur",value:function(){this.setState({validate:!1})}},{key:"handleKeyUp",value:function(){this.password.current.value.match(this.lowerCaseLetters)?this.setState({letter:"valid"}):this.setState({letter:"invalid"}),this.password.current.value.match(this.upperCaseLetters)?this.setState({capital:"valid"}):this.setState({capital:"invalid"}),this.password.current.value.match(this.numbers)?this.setState({number:"valid"}):this.setState({number:"invalid"}),this.password.current.value.length>=8?this.setState({length:"valid"}):this.setState({length:"invalid"})}},{key:"componentDidMount",value:function(){var e=document.getElementById("nav"),t=document.getElementById("footer");e.style.display="none",t.style.display="none"}},{key:"componentWillUnmount",value:function(){var e=document.getElementById("nav"),t=document.getElementById("footer");e.style.display="block",t.style.display="block"}},{key:"render",value:function(){return r.a.createElement("div",{className:"Register"},r.a.createElement("form",{action:"/api/v1/register",method:"POST",id:"form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Register"),r.a.createElement("p",null,"Please fill in this form to create an account."),r.a.createElement("hr",null),this.state.error&&r.a.createElement("div",{className:"alert alert-danger",id:"alert"},this.state.message),r.a.createElement("label",{htmlFor:"fullname"},r.a.createElement("b",null,"Fullname")),r.a.createElement("input",{type:"text",id:"fullname",placeholder:"Enter fullname",name:"fullname",maxLength:"50",ref:this.fullname,required:!0}),r.a.createElement("label",{htmlFor:"username"},r.a.createElement("b",null,"Username")),r.a.createElement("input",{type:"text",placeholder:"Enter username",name:"username",maxLength:"50",ref:this.username,required:!0}),r.a.createElement("label",{htmlFor:"psw"},r.a.createElement("b",null,"Password")),r.a.createElement("input",{type:"password",placeholder:"Enter Password",name:"password",maxLength:"50",onKeyUp:this.handleKeyUp,onBlur:this.handleBlur,onFocus:this.handleFocus,ref:this.password,required:!0}),this.state.validate&&r.a.createElement("div",{className:"container",id:"message"},r.a.createElement("p",{id:"letter",className:this.state.letter},"A ",r.a.createElement("b",null,"lowercase")," letter"),r.a.createElement("p",{id:"capital",className:this.state.capital},"A ",r.a.createElement("b",null,"capital (uppercase)")," letter"),r.a.createElement("p",{id:"number",className:this.state.number},"A ",r.a.createElement("b",null,"number")),r.a.createElement("p",{id:"length",className:this.state.length},"Minimum ",r.a.createElement("b",null,"8 characters"))),r.a.createElement("label",{htmlFor:"psw-repeat"},r.a.createElement("b",null,"Repeat Password")),r.a.createElement("input",{type:"password",placeholder:"Repeat Password",name:"repeat",maxLength:"50",ref:this.repeat,required:!0}),r.a.createElement("hr",null),r.a.createElement("button",{type:"submit",className:"registerbtn"},"Register")),r.a.createElement("div",{className:"container signin"},r.a.createElement("p",null,"Already have an account? ",r.a.createElement("a",{href:"/login"},"Log in"),"."))))}}]),t}(r.a.Component)),_=(a(75),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=document.getElementById("pupil"),t=document.getElementById("nav"),a=document.getElementById("footer");t.style.display="none",a.style.display="none",document.addEventListener("mousemove",(function(t){var a=100*t.clientX/window.innerWidth+"%",n=100*t.clientY/window.innerHeight+"%";e.style.left=a,e.style.top=n,e.style.transform="translate(-".concat(a,", -").concat(n,")")}))}},{key:"componentWillUnmount",value:function(){var e=document.getElementById("pupil"),t=document.getElementById("nav"),a=document.getElementById("footer");t.style.display="block",a.style.display="block",document.removeEventListener("mousemove",(function(t){var a=100*t.clientX/window.innerWidth+"%",n=100*t.clientY/window.innerHeight+"%";e.style.left=a,e.style.top=n,e.style.transform="translate(-".concat(a,", -").concat(n,")")}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"PageNotFound"},r.a.createElement("div",{className:"space"}),r.a.createElement("center",null,r.a.createElement("div",null,"4"),r.a.createElement("div",{className:"eye"},r.a.createElement("img",{id:"pupil",src:"https://res.cloudinary.com/hlrzutjus/image/upload/v1576349822/pupil_qebphp.png",alt:"pupil"})),r.a.createElement("div",null,"4"),r.a.createElement("p",null,r.a.createElement("a",{href:"/"},"Run from here"))),r.a.createElement("div",{className:"space"}))}}]),t}(r.a.Component)),I=a(37),W=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).state={auth:localStorage.getItem("jwt"),id:null},a.handler=a.handler.bind(Object(u.a)(a)),a.eventEmitter=new I.EventEmitter,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handler",value:function(e){this.setState({auth:e})}},{key:"componentDidMount",value:function(){this.eventEmitter.addListener("auth",this.handler)}},{key:"componentWillUnmount",value:function(){this.eventEmitter.removeListener("auth",this.handler)}},{key:"render",value:function(){var e=this;return r.a.createElement(C.a,null,r.a.createElement(P,{key:this.state.auth,eventEmitter:this.eventEmitter,auth:this.state.auth}),r.a.createElement(A.c,null,r.a.createElement(A.a,{exact:!0,path:"/",component:h}),r.a.createElement(A.a,{path:"/about",component:p}),r.a.createElement(A.a,{path:"/videos/new",render:function(t){return r.a.createElement(g,Object.assign({auth:e.state.auth},t))}}),r.a.createElement(A.a,{path:"/videos/:id",render:function(t){return r.a.createElement(f,Object.assign({auth:e.state.auth},t))}}),r.a.createElement(A.a,{path:"/videos",component:v}),r.a.createElement(A.a,{path:"/channels/new",render:function(t){return r.a.createElement(b,Object.assign({auth:e.state.auth},t))}}),r.a.createElement(A.a,{path:"/channels/:id",render:function(t){return r.a.createElement(S,Object.assign({auth:e.state.auth},t))}}),r.a.createElement(A.a,{path:"/channels",component:y}),r.a.createElement(A.a,{path:"/profile",render:function(t){return r.a.createElement(w,Object.assign({auth:e.state.auth},t))}}),r.a.createElement(A.a,{path:"/users/:id",render:function(t){return r.a.createElement(w,Object.assign({auth:e.state.auth},t))}}),r.a.createElement(A.a,{path:"/users",render:function(t){return r.a.createElement(j,Object.assign({auth:e.state.auth},t))}}),r.a.createElement(A.a,{path:"/login",render:function(t){return r.a.createElement(B,Object.assign({eventEmitter:e.eventEmitter},t))}}),r.a.createElement(A.a,{path:"/register",component:function(t){return r.a.createElement(D,Object.assign({eventEmitter:e.eventEmitter},t))}}),r.a.createElement(A.a,{path:"/developer",component:z}),r.a.createElement(A.a,{path:"/401",component:O}),r.a.createElement(A.a,{path:"/403",component:x}),r.a.createElement(A.a,{path:"*",component:_})),r.a.createElement(T,null))}}]),t}(r.a.Component);Object(s.render)(r.a.createElement(W,null),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.66e43704.chunk.js.map